{"version":3,"sources":["webpack:///src/app/services/shoup-hour-services/network/api.service.ts"],"names":["ApiServiceShopHour","config","http","reviewedIds","Array","uuid","platform","currency_icon","getSetting","locale","getReviewedProductIds","authToken","tokenToUse","getToken","savedLanguageCode","getLanguageDefault","myHeaders","String","availableLanguages","code","toLowerCase","setupHeaders","get","pipe","data","indiaIndex","unshift","splice","handleError","url","headers","apiBase","supportRequest","post","checkUserRequest","socialLoginRequest","setupUserMe","loginTokenRequest","signUpRequest","updateRequest","put","uId","rateRequest","JSON","stringify","scope","length","cat","setupCategory","parentId","pro","setupProduct","query","page","reloadSetting","urlParams","URLSearchParams","append","toString","categoryId","type","vendorId","productId","address","id","orderRequest","couponCode","orderId","reloadItemsReviewed","setupOrder","pageNo","order","ratingSummaries","defaultArray","summary","ratingSummaryResult","rounded_rating","total","percent","total_ratings","getLocale","review","created_at","formatTimestampDate","rr","scheduled_on","total_toshow","Number","toFixed","subtotal_toshow","subtotal","delivery_fee","delivery_fee_toshow","discount","discount_toshow","taxes","taxes_toshow","products","product","vendor_product","price","priceToShow","images","mediaurls","imgObj","push","reviewed","includes","vendor","image","delivery","user","image_url","category","ratings","ratings_count","vendorText","vendor_products","vp","sale_price","sale_priceToShow","name","substring","categories","operation","result","error","console","log","message","providedIn"],"mappings":"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","file":"default~add-address-add-address-module~contact-us-contact-us-module~home-home-module~my-profile-my-p~df159abf-es5.js","sourcesContent":["import { Injectable, Inject } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { Country } from 'src/models/country.models';\nimport { AuthResponse } from 'src/models/auth-response.models';\nimport { SocialLoginRequest } from 'src/models/sociallogin-request.models';\nimport { SignUpRequest } from 'src/models/auth-signup-request.models';\nimport { MyMeta } from 'src/models/meta.models';\nimport { MyAddress } from 'src/models/address.models';\nimport { BaseListResponse } from 'src/models/base-list.models';\nimport { Helper } from 'src/models/helper.models';\nimport { Rating } from 'src/models/rating.models';\nimport { RatingSummary } from 'src/models/rating-summary.models';\nimport { PaymentMethod } from 'src/models/payment-method.models';\nimport { SupportRequest } from 'src/models/support-request.models';\nimport { User } from 'src/models/user.models';\nimport { RateRequest } from 'src/models/rate-request.models';\nimport { Category } from 'src/models/category.models';\nimport { Product } from 'src/models/product.models';\nimport { OrderRequest } from 'src/models/order-request.models';\nimport { Coupon } from 'src/models/coupon.models';\nimport { Order } from 'src/models/order.models';\nimport { APP_CONFIG_ShopHour, ShopHourConfig } from 'src/app/shophour.config';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiServiceShopHour {\n  private myHeaders: HttpHeaders;\n\n  private currency_icon: string;\n  private locale: string;\n  private reviewedIds = new Array<string>();\n  private uuid: string = \"xxx\";\n  private platform: string = \"android\";\n\n  constructor(@Inject(APP_CONFIG_ShopHour) private config: ShopHourConfig, private http: HttpClient) { }\n\n  reloadSetting() {\n    this.currency_icon = Helper.getSetting(\"currency_icon\");\n    this.locale = Helper.getSetting(\"locale\");\n  }\n\n  reloadItemsReviewed() {\n    this.reviewedIds = Helper.getReviewedProductIds();\n  }\n\n  setupHeaders(authToken?: string) {\n    let tokenToUse = authToken ? authToken : Helper.getToken();\n    let savedLanguageCode = Helper.getLanguageDefault();\n    this.myHeaders = tokenToUse ? new HttpHeaders({\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': ('Bearer ' + tokenToUse),\n      'X-Localization': String(savedLanguageCode ? savedLanguageCode : this.config.availableLanguages[0].code),\n      'X-Device-Id': this.uuid ? this.uuid : \"xxx\",\n      'X-Device-Type': this.platform ? this.platform : \"android\"\n    }) : new HttpHeaders({\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'X-Localization': String(savedLanguageCode ? savedLanguageCode : this.config.availableLanguages[0].code),\n      'X-Device-Id': this.uuid ? this.uuid : \"xxx\",\n      'X-Device-Type': this.platform ? this.platform : \"android\"\n    });\n  }\n\n\n  setUuidAndPlatform(uuid: string, platform: string) {\n    this.uuid = uuid;\n    this.platform = platform ? String(platform).toLowerCase() : platform;\n    this.setupHeaders();\n  }\n\n  public getCountries(): Observable<Array<Country>> {\n    return this.http.get<Array<Country>>('./assets/json/countries.json').pipe(\n      tap(data => {\n        let indiaIndex = -1;\n        // if (data) {\n        //   for (let i = 0; i < data.length; i++) {\n        //     if (data[i].name == \"India\") {\n        //       indiaIndex = i;\n        //       break;\n        //     }\n        //   }\n        // }\n        if (indiaIndex != -1) data.unshift(data.splice(indiaIndex, 1)[0]);\n      }),\n      catchError(this.handleError<Array<Country>>('getCountries', []))\n    );\n  }\n\n  public getURL(url: string): Observable<any> {\n    return this.http.get<any>(url, { headers: this.myHeaders });\n  }\n\n  public getSettings(): Observable<Array<MyMeta>> {\n    return this.http.get<Array<MyMeta>>(this.config.apiBase + 'api/settings', { headers: this.myHeaders });\n  }\n\n  public submitSupport(supportRequest: SupportRequest): Observable<{}> {\n    return this.http.post<{}>(this.config.apiBase + \"api/support\", supportRequest, { headers: this.myHeaders });\n  }\n\n  public checkUser(checkUserRequest: any): Observable<{}> {\n    return this.http.post<{}>(this.config.apiBase + 'api/check-user', checkUserRequest, { headers: this.myHeaders });\n  }\n\n  public loginSocial(socialLoginRequest: SocialLoginRequest): Observable<AuthResponse> {\n    return this.http.post<AuthResponse>(this.config.apiBase + 'api/social/login', socialLoginRequest, { headers: this.myHeaders }).pipe(tap(data => this.setupUserMe(data)));\n  }\n\n  public loginUser(loginTokenRequest: { token: string, role: string }): Observable<AuthResponse> {\n    return this.http.post<AuthResponse>(this.config.apiBase + 'api/login', loginTokenRequest, { headers: this.myHeaders }).pipe(tap(data => this.setupUserMe(data)));\n  }\n\n  public createUser(signUpRequest: SignUpRequest): Observable<AuthResponse> {\n    return this.http.post<AuthResponse>(this.config.apiBase + 'api/register', signUpRequest, { headers: this.myHeaders }).pipe(tap(data => this.setupUserMe(data)));\n  }\n\n  public updateUser(updateRequest): Observable<User> {\n    return this.http.put<User>(this.config.apiBase + 'api/user', updateRequest, { headers: this.myHeaders }).pipe(tap(data => this.setupUserMe(data)));\n  }\n\n  public rateUser(uId: number, rateRequest: RateRequest): Observable<{}> {\n    return this.http.post<{}>(this.config.apiBase + \"api/user/ratings/\" + uId, JSON.stringify(rateRequest), { headers: this.myHeaders });\n  }\n\n  public getCategoriesParents(scope: string): Observable<Array<Category>> {\n    return this.http.get<Array<Category>>(this.config.apiBase + \"api/categories?pagination=0&parent=1&scope=\" + scope, { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.length) for (let cat of data) this.setupCategory(cat);\n    })\n      //, catchError(this.handleError<Array<Category>>('getCategoriesParents', this.getTestCategories()))\n    );\n  }\n\n  public getBanners(scope: string): Observable<Array<Category>> {\n    return this.http.get<Array<Category>>(this.config.apiBase + \"api/banners?pagination=0&parent=1&scope=\" + scope, { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.length) for (let cat of data) this.setupCategory(cat);\n    })\n      //, catchError(this.handleError<Array<Category>>('getCategoriesParents', this.getTestCategories()))\n    );\n  }\n\n  public getCategoriesSub(scope: string, parentId: number): Observable<Array<Category>> {\n    return this.http.get<Array<Category>>(this.config.apiBase + \"api/categories?pagination=0&category=\" + parentId + \"&scope=\" + scope, { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.length) for (let cat of data) this.setupCategory(cat);\n    })\n      //, catchError(this.handleError<Array<Category>>('getCategoriesSub', this.getTestCategories()))\n    );\n  }\n  public getProductsFavorite(): Observable<Array<Product>> {\n    return this.http.get<Array<Product>>(this.config.apiBase + \"api/products/favourites/list\", { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.length) for (let pro of data) this.setupProduct(pro);\n    })\n      //, catchError(this.handleError<BaseListResponse>('getProductsWithCategoryId', this.getTestProducts()))\n    );\n  }\n\n  public getProductsWithQuery(query: string, page: number): Observable<BaseListResponse> {\n    this.reloadSetting();\n    let urlParams = new URLSearchParams();\n    urlParams.append(\"search\", query);\n    urlParams.append(\"page\", String(page));\n    return this.http.get<BaseListResponse>(this.config.apiBase + \"api/products?\" + urlParams.toString(), { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.data && data.data.length) for (let pro of data.data) this.setupProduct(pro);\n    })\n      //, catchError(this.handleError<BaseListResponse>('getProductsWithCategoryId', this.getTestProducts()))\n    );\n  }\n\n  public getProductsWithCategoryId(scope: string, categoryId: number, type: string, page: number): Observable<BaseListResponse> {\n    this.reloadSetting();\n    let urlParams = new URLSearchParams();\n    urlParams.append(\"category\", String(categoryId));\n    urlParams.append(\"page\", String(page));\n    urlParams.append(\"scope\", scope);\n    if (type != null) urlParams.append(\"vendor_type\", type);\n    return this.http.get<BaseListResponse>(this.config.apiBase + \"api/products?\" + urlParams.toString(), { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.data && data.data.length) for (let pro of data.data) this.setupProduct(pro);\n    })\n      //, catchError(this.handleError<BaseListResponse>('getProductsWithCategoryId', this.getTestProducts()))\n    );\n  }\n\n  public getProductsWithVendorId(vendorId: number, page: number): Observable<BaseListResponse> {\n    this.reloadSetting();\n    return this.http.get<BaseListResponse>(this.config.apiBase + \"api/products?vendor=\" + vendorId + \"&page=\" + page, { headers: this.myHeaders }).pipe(tap(data => {\n      if (data && data.data && data.data.length) for (let pro of data.data) this.setupProduct(pro);\n    })\n      //, catchError(this.handleError<BaseListResponse>('getProductsWithCategoryId', this.getTestProducts()))\n    );\n  }\n\n  public getProductsWithId(productId): Observable<Product> {\n    this.reloadSetting();\n    return this.http.get<Product>(this.config.apiBase + \"api/products/\" + productId, { headers: this.myHeaders }).pipe(tap(data => {\n      this.setupProduct(data);\n    })\n      //, catchError(this.handleError<BaseListResponse>('getProductsWithCategoryId', this.getTestProducts()))\n    );\n  }\n\n  public toggleProductFavorite(productId): Observable<any> {\n    return this.http.post<any>(this.config.apiBase + \"api/products/favourites/\" + productId, {}, { headers: this.myHeaders });\n  }\n\n  public getPaymentMethods(): Observable<Array<PaymentMethod>> {\n    return this.http.get<Array<PaymentMethod>>(this.config.apiBase + 'api/payment/methods', { headers: this.myHeaders });\n  }\n\n  public getAddresses(): Observable<Array<MyAddress>> {\n    return this.http.get<Array<MyAddress>>(this.config.apiBase + 'api/addresses', { headers: this.myHeaders });\n  }\n\n  public addressAdd(address): Observable<MyAddress> {\n    return this.http.post<MyAddress>(this.config.apiBase + 'api/addresses', address, { headers: this.myHeaders });\n  }\n\n  public addressUpdate(address): Observable<MyAddress> {\n    return this.http.put<MyAddress>(this.config.apiBase + 'api/addresses/' + address.id + '/update', address, { headers: this.myHeaders });\n  }\n\n  public createOrder(orderRequest: OrderRequest): Observable<Order> {\n    return this.http.post<Order>(this.config.apiBase + 'api/orders', orderRequest, { headers: this.myHeaders });\n  }\n\n  public checkCoupon(couponCode: string): Observable<Coupon> {\n    return this.http.get<Coupon>(this.config.apiBase + 'api/coupons/check-validity?code=' + couponCode, { headers: this.myHeaders });\n  }\n\n  public getOrderById(orderId): Observable<Order> {\n    this.reloadSetting();\n    this.reloadItemsReviewed();\n    return this.http.get<Order>(this.config.apiBase + \"api/orders/\" + orderId, { headers: this.myHeaders }).pipe(tap(data => {\n      this.setupOrder(data);\n    }));\n  }\n\n  public getOrders(pageNo: number): Observable<BaseListResponse> {\n    this.reloadSetting();\n    this.reloadItemsReviewed();\n    return this.http.get<BaseListResponse>(this.config.apiBase + \"api/orders?page=\" + pageNo, { headers: this.myHeaders }).pipe(tap(data => {\n      for (let order of data.data) this.setupOrder(order);\n    }));\n  }\n\n  public getCoupons(): Observable<Array<Coupon>> {\n    return this.http.get<Array<Coupon>>(this.config.apiBase + \"api/coupons\", { headers: this.myHeaders });\n  }\n\n  public getRatingSummaryProduct(productId): Observable<Rating> {\n    return this.http.get<Rating>(this.config.apiBase + \"api/products/ratings/summary/\" + productId, { headers: this.myHeaders }).pipe(tap(data => {\n      let ratingSummaries = RatingSummary.defaultArray();\n      for (let ratingSummaryResult of data.summary) {\n        ratingSummaries[ratingSummaryResult.rounded_rating - 1].total = ratingSummaryResult.total;\n        ratingSummaries[ratingSummaryResult.rounded_rating - 1].percent = ((ratingSummaryResult.total / data.total_ratings) * 100);\n      }\n      data.summary = ratingSummaries;\n    }));\n  }\n\n  public getReviewsProduct(productId, pageNo: number): Observable<BaseListResponse> {\n    return this.http.get<BaseListResponse>(this.config.apiBase + \"api/products/ratings/\" + productId + \"?page=\" + pageNo, { headers: this.myHeaders }).pipe(tap(data => {\n      let locale = Helper.getLocale();\n      for (let review of data.data) review.created_at = Helper.formatTimestampDate(review.created_at, locale);\n    }));\n  }\n\n  public postReviewProduct(productId, rr: RateRequest): Observable<any> {\n    return this.http.post<any>(this.config.apiBase + \"api/products/ratings/\" + productId, rr, { headers: this.myHeaders });\n  }\n\n  private setupOrder(order: Order) {\n    order.created_at = Helper.formatTimestampDate(order.created_at, this.locale);\n    if (order.scheduled_on) order.scheduled_on = Helper.formatTimestampDate(order.scheduled_on, this.locale);\n\n    order.total_toshow = this.currency_icon + Number(order.total).toFixed(2);\n    order.subtotal_toshow = this.currency_icon + Number(order.subtotal).toFixed(2);\n    if (order.delivery_fee) order.delivery_fee_toshow = this.currency_icon + Number(order.delivery_fee).toFixed(2);\n    if (order.discount) order.discount_toshow = this.currency_icon + Number(order.discount).toFixed(2);\n    if (order.taxes) order.taxes_toshow = this.currency_icon + Number(order.taxes).toFixed(2);\n\n    for (let product of order.products) {\n      product.total_toshow = this.currency_icon + Number(product.total).toFixed(2);\n      if (product.vendor_product && product.vendor_product.product) {\n        if (!product.vendor_product.product.price) product.vendor_product.product.price = 0;\n        product.vendor_product.product.priceToShow = this.currency_icon + Number(product.vendor_product.product.price).toFixed(2);\n\n        product.vendor_product.product.images = new Array<string>();\n        if (product.vendor_product.product.mediaurls && product.vendor_product.product.mediaurls.images) for (let imgObj of product.vendor_product.product.mediaurls.images) if (imgObj[\"default\"]) product.vendor_product.product.images.push(imgObj[\"default\"]);\n        if (!product.vendor_product.product.images.length) product.vendor_product.product.images.push(\"assets/images/plc_item_image.png\");\n\n        //custom\n        product.vendor_product.product.reviewed = (this.reviewedIds != null && this.reviewedIds.includes(String(String(order.id) + String(product.vendor_product.product.id))));\n      }\n    }\n\n    if (order.vendor) {\n      if (!order.vendor.mediaurls || !order.vendor.mediaurls.images) order.vendor.mediaurls = { images: [] };\n      order.vendor.image = \"assets/images/plc_seller_profile.png\";\n      for (let imgObj of order.vendor.mediaurls.images) if (imgObj[\"default\"]) { order.vendor.image = imgObj[\"default\"]; break; }\n    }\n\n    if (order.delivery) {\n      order.delivery.delivery.user.image_url = \"assets/images/empty_dp\";\n      if (!order.delivery.delivery.user.mediaurls || !order.delivery.delivery.user.mediaurls.images) order.delivery.delivery.user.mediaurls = { images: [] };\n      for (let imgObj of order.delivery.delivery.user.mediaurls.images) if (imgObj[\"default\"]) { order.delivery.delivery.user.image_url = imgObj[\"default\"]; break; }\n    }\n  }\n\n  private setupCategory(category: Category) {\n    if (category.mediaurls && category.mediaurls.images) for (let imgObj of category.mediaurls.images) if (imgObj[\"default\"]) { category.image = imgObj[\"default\"]; break; }\n    if (!category.image) category.image = \"assets/images/plc_item_image.png\";\n  }\n\n  public setupProduct(product: Product) {\n    //product.prescription_required = (product.meta && product.meta.prescription);\n\n    if (!product.ratings) product.ratings = 0;\n    if (!product.ratings_count) product.ratings_count = 0;\n    if (!product.price) product.price = 0;\n    product.priceToShow = this.currency_icon + product.price.toFixed(2);\n    product.ratings = Number(product.ratings.toFixed(2));\n\n    product.vendorText = \"\";\n    if (product.vendor_products && product.vendor_products.length) {\n      for (let vp of product.vendor_products) {\n        if (!vp.sale_price) vp.sale_price = 0;\n        vp.priceToShow = this.currency_icon + vp.price.toFixed(2);\n        vp.sale_priceToShow = this.currency_icon + vp.sale_price.toFixed(2);\n\n        if (vp.vendor) {\n          if (!vp.vendor.mediaurls || !vp.vendor.mediaurls.images) vp.vendor.mediaurls = { images: [] };\n          vp.vendor.image = \"assets/images/plc_seller_profile.png\";\n          for (let imgObj of vp.vendor.mediaurls.images) if (imgObj[\"default\"]) { vp.vendor.image = imgObj[\"default\"]; break; }\n\n          product.vendorText += (vp.vendor.name + \", \");\n        }\n      }\n    }\n\n    if (product.vendorText.length) product.vendorText = product.vendorText.substring(0, product.vendorText.length - 2);\n\n    if (product.categories && product.categories.length) {\n      for (let cat of product.categories) this.setupCategory(cat);\n    }\n\n    product.images = new Array<string>();\n    if (product.mediaurls && product.mediaurls.images) for (let imgObj of product.mediaurls.images) if (imgObj[\"default\"]) product.images.push(imgObj[\"default\"]);\n    if (!product.images.length) product.images.push(\"assets/images/plc_item_image.png\");\n  }\n\n  private setupUserMe(data) {\n    if (!data.mediaurls || !data.mediaurls.images) data.mediaurls = { images: [] };\n    if (!data.image_url) for (let imgObj of data.mediaurls.images) if (imgObj[\"default\"]) { data.image_url = imgObj[\"default\"]; break; }\n  }\n\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n      // TODO: better job of transforming error for user consumption\n      console.log(`${operation} failed: ${error.message}`);\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n}\n"]}