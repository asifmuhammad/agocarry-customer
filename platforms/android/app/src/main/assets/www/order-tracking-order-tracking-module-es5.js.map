{"version":3,"sources":["webpack:///src/app/order-tracking/order-tracking.page.html","webpack:///src/app/shop-hour/order-tracking/order-tracking.page.html","webpack:///src/app/order-tracking/order-tracking-routing.module.ts","webpack:///src/app/order-tracking/order-tracking.module.ts","webpack:///src/app/order-tracking/order-tracking.page.scss","webpack:///src/app/order-tracking/order-tracking.page.ts","webpack:///src/app/services/shoup-hour-services/common/ui-elements.service.ts","webpack:///src/app/shop-hour/order-tracking/order-tracking-routing.module.ts","webpack:///src/app/shop-hour/order-tracking/order-tracking.module.ts","webpack:///src/app/shop-hour/order-tracking/order-tracking.page.scss","webpack:///src/app/shop-hour/order-tracking/order-tracking.page.ts"],"names":["routes","path","component","OrderTrackingPageRoutingModule","imports","forChild","exports","OrderTrackingPageModule","providers","declarations","OrderTrackingPage","router","navCtrl","modalController","maps","translate","uiElementService","callNumber","initialized","numDeltas","delay","i","lastToPos","console","log","getCurrentNavigation","extras","state","delivery","address","vendor","mapLoaded","init","mapElement","nativeElement","pleaseConnect","then","plotMarkers","registerUpdates","err","close","posMe","google","LatLng","Number","latitude","longitude","markerMe","Marker","position","map","addListener","event","presentToast","formatted_address","posVendor","location","markerVendor","latlng","html","image","name","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","polylineOptions","strokeColor","strokeOpacity","strokeWeight","markerOptions","opacity","clickable","dirReq","origin","destination","travelMode","TravelMode","DRIVING","route","result","status","DirectionsStatus","OK","setDirections","posDeliveryGuy","markerDeliveryGuy","user","image_url","newPos","equals","lat","lng","deltaLat","deltaLng","moveMarker","panTo","newToPos","setPosition","setTimeout","ref","child","String","id","on","data","fireLocation","val","onNewLocation","pop","mobile_number","res","chat","chatId","ROLE_DELIVERY","chatImage","chatName","chatStatus","instant","myId","ROLE_USER","navigationExtras","delivery_user","navigateForward","selector","template","UiElementsService","toastController","loadingController","alertCtrl","translateService","body","duration","create","message","toast","present","msg","headingText","actionText","get","subscribe","values","header","buttons","alert","isLoading","overlay","dismiss","error","providedIn"],"mappings":"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","file":"order-tracking-order-tracking-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>{{'order_track' | translate}} #{{delivery.order_id}}</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"bg-color\\\" fullscreen>\\r\\n    <div #map id=\\\"map\\\" class=\\\"map\\\">\\r\\n        <!-- <ion-spinner></ion-spinner> -->\\r\\n    </div>\\r\\n    <div #pleaseConnect id=\\\"please-connect\\\">\\r\\n        <!-- <p>{{'loading' | translate}}</p> -->\\r\\n    </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border\\\">\\r\\n    <div class=\\\"delivery_man_info d-flex\\\">\\r\\n        <div class=\\\"img_box center_img\\\">\\r\\n            <img [src]=\\\"delivery.delivery.user.image_url\\\" class=\\\"crop_img\\\">\\r\\n        </div>\\r\\n        <div class=\\\"text_box\\\">\\r\\n            <h2>{{delivery.delivery.user.name}}</h2>\\r\\n            <h3>{{'delivery_partner' | translate}}</h3>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <ion-row>\\r\\n        <ion-col size=\\\"6\\\">\\r\\n            <ion-button size=\\\"large\\\" shape=\\\"full\\\" fill=\\\"clear\\\" class=\\\"btn\\\" (click)=\\\"doCall()\\\">\\r\\n                <ion-icon class=\\\"zmdi zmdi-phone ion-text-start\\\"></ion-icon>\\r\\n                {{'call' | translate}}\\r\\n            </ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"6\\\">\\r\\n            <ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"navChat()\\\">\\r\\n                <ion-icon class=\\\"zmdi zmdi-comment-alt-text ion-text-start\\\"></ion-icon>\\r\\n                {{'chat' | translate}}\\r\\n            </ion-button>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n</ion-footer>\";","export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title>{{'order_track' | translate}} #{{delivery.order_id}}</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"bg-color\\\" fullscreen>\\n\\t<div #map id=\\\"map\\\" class=\\\"map\\\">\\n\\t\\t<!-- <ion-spinner></ion-spinner> -->\\n\\t</div>\\n\\t<div #pleaseConnect id=\\\"please-connect\\\">\\n\\t\\t<!-- <p>{{'loading' | translate}}</p> -->\\n\\t</div>\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-no-border\\\">\\n\\t<div class=\\\"delivery_man_info d-flex\\\">\\n\\t\\t<div class=\\\"img_box center_img\\\">\\n\\t\\t\\t<img [src]=\\\"delivery.delivery.user.image_url\\\" class=\\\"crop_img\\\">\\n\\t\\t</div>\\n\\t\\t<div class=\\\"text_box\\\">\\n\\t\\t\\t<h2>{{delivery.delivery.user.name}}</h2>\\n\\t\\t\\t<h3>{{'delivery_partner' | translate}}</h3>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<ion-row>\\n\\t\\t<ion-col size=\\\"12\\\">\\n\\t\\t\\t<ion-button size=\\\"large\\\" shape=\\\"full\\\" fill=\\\"clear\\\" class=\\\"btn\\\" (click)=\\\"doCall()\\\">\\n\\t\\t\\t\\t<ion-icon class=\\\"zmdi zmdi-phone ion-text-start\\\"></ion-icon>\\n\\t\\t\\t\\t{{'call' | translate}}\\n\\t\\t\\t</ion-button>\\n\\t\\t</ion-col>\\n\\t\\t<!-- <ion-col size=\\\"6\\\">\\n\\t\\t\\t<ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"doChat()\\\">\\n\\t\\t\\t\\t<ion-icon class=\\\"zmdi zmdi-comment-alt-text ion-text-start\\\"></ion-icon>\\n\\t\\t\\t\\t{{'chat' | translate}}\\n\\t\\t\\t</ion-button>\\n\\t\\t</ion-col> -->\\n\\t</ion-row>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderTrackingPage } from './order-tracking.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderTrackingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderTrackingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { OrderTrackingPageRoutingModule } from './order-tracking-routing.module';\r\n\r\nimport { OrderTrackingPage } from './order-tracking.page';\r\n\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nimport { GoogleMapsService } from '../services/network/google-maps.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    OrderTrackingPageRoutingModule\r\n  ],\r\n  providers: [CallNumber, GoogleMapsService],\r\n  declarations: [OrderTrackingPage]\r\n})\r\nexport class OrderTrackingPageModule { }\r\n","export default \".map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.location_icon {\\n  position: absolute;\\n  z-index: 99;\\n  position: absolute;\\n  z-index: 99;\\n  background: var(--secondary);\\n  color: var(--white);\\n  width: 43px;\\n  height: 43px;\\n  border-radius: 50%;\\n  text-align: center;\\n}\\n\\n.location_icon ion-icon {\\n  width: 43px;\\n  height: 43px;\\n  line-height: 43px;\\n  font-size: 1.43rem;\\n}\\n\\n.delivery_man_location {\\n  position: absolute;\\n  z-index: 99;\\n}\\n\\n.delivery_man_location img {\\n  width: 20px;\\n}\\n\\nion-footer {\\n  background: var(--bg-color);\\n}\\n\\nion-footer .delivery_man_info {\\n  background: var(--white);\\n  padding: 12px 14px;\\n}\\n\\nion-footer .delivery_man_info .img_box {\\n  min-width: 40px;\\n  height: 40px;\\n  border-radius: 5px;\\n  margin-right: 16px;\\n}\\n\\nion-footer .delivery_man_info .text_box {\\n  width: 100%;\\n}\\n\\nion-footer .delivery_man_info .text_box h2 {\\n  margin: 0;\\n  font-size: 0.95rem;\\n  font-weight: 600;\\n  padding: 0;\\n  padding-bottom: 4px;\\n  color: var(--text-dark);\\n}\\n\\nion-footer .delivery_man_info .text_box h3 {\\n  margin: 0;\\n  color: var(--text-light);\\n  font-size: 0.8rem;\\n  overflow: hidden;\\n}\\n\\nion-footer ion-row ion-col {\\n  padding: 0;\\n}\\n\\nion-footer ion-row ion-col .button.btn ion-icon {\\n  position: relative;\\n  left: -18px;\\n  font-size: 1.3rem;\\n}\\n\\nion-footer ion-row ion-col .button.btn.button-clear {\\n  --background: none;\\n  color: var(--primary);\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXItdHJhY2tpbmcvRjpcXGZpdmVyXFxCZXJuYXJkXFxBZ29jYXJyeVxcYWdvY2FycnktY3VzdG9tZXIvc3JjXFxhcHBcXG9yZGVyLXRyYWNraW5nXFxvcmRlci10cmFja2luZy5wYWdlLnNjc3MiLCJzcmMvYXBwL29yZGVyLXRyYWNraW5nL29yZGVyLXRyYWNraW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsNEJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQ0NKOztBRENJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDQ1I7O0FER0E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUNBSjs7QURFSTtFQUNJLFdBQUE7QUNBUjs7QURJQTtFQUNJLDJCQUFBO0FDREo7O0FER0k7RUFDSSx3QkFBQTtFQUNBLGtCQUFBO0FDRFI7O0FER1E7RUFDSSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUNEWjs7QURJUTtFQUNJLFdBQUE7QUNGWjs7QURJWTtFQUNJLFNBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUNGaEI7O0FES1k7RUFDSSxTQUFBO0VBQ0Esd0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDSGhCOztBRFNRO0VBQ0ksVUFBQTtBQ1BaOztBRFVnQjtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FDUnBCOztBRFdnQjtFQUNJLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQ1RwQiIsImZpbGUiOiJzcmMvYXBwL29yZGVyLXRyYWNraW5nL29yZGVyLXRyYWNraW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4ubG9jYXRpb25faWNvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB6LWluZGV4OiA5OTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDk5O1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTtcclxuICAgIGNvbG9yOiB2YXIoLS13aGl0ZSk7XHJcbiAgICB3aWR0aDogNDNweDtcclxuICAgIGhlaWdodDogNDNweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHJcbiAgICBpb24taWNvbiB7XHJcbiAgICAgICAgd2lkdGg6IDQzcHg7XHJcbiAgICAgICAgaGVpZ2h0OiA0M3B4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiA0M3B4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMS40M3JlbTtcclxuICAgIH1cclxufVxyXG5cclxuLmRlbGl2ZXJ5X21hbl9sb2NhdGlvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB6LWluZGV4OiA5OTtcclxuXHJcbiAgICBpbWcge1xyXG4gICAgICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5pb24tZm9vdGVyIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWNvbG9yKTtcclxuXHJcbiAgICAuZGVsaXZlcnlfbWFuX2luZm8ge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcclxuICAgICAgICBwYWRkaW5nOiAxMnB4IDE0cHg7XHJcblxyXG4gICAgICAgIC5pbWdfYm94IHtcclxuICAgICAgICAgICAgbWluLXdpZHRoOiA0MHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRleHRfYm94IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgICAgICAgICBoMiB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOTVyZW07XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA0cHg7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1kYXJrKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaDMge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOyAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpb24tcm93IHtcclxuICAgICAgICBpb24tY29sIHtcclxuICAgICAgICAgICAgcGFkZGluZzogMDtcclxuXHJcbiAgICAgICAgICAgIC5idXR0b24uYnRuIHtcclxuICAgICAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogLTE4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjNyZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJi5idXR0b24tY2xlYXIge1xyXG4gICAgICAgICAgICAgICAgICAgIC0tYmFja2dyb3VuZDogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi5tYXAge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmxvY2F0aW9uX2ljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpO1xuICBjb2xvcjogdmFyKC0td2hpdGUpO1xuICB3aWR0aDogNDNweDtcbiAgaGVpZ2h0OiA0M3B4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5sb2NhdGlvbl9pY29uIGlvbi1pY29uIHtcbiAgd2lkdGg6IDQzcHg7XG4gIGhlaWdodDogNDNweDtcbiAgbGluZS1oZWlnaHQ6IDQzcHg7XG4gIGZvbnQtc2l6ZTogMS40M3JlbTtcbn1cblxuLmRlbGl2ZXJ5X21hbl9sb2NhdGlvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk7XG59XG4uZGVsaXZlcnlfbWFuX2xvY2F0aW9uIGltZyB7XG4gIHdpZHRoOiAyMHB4O1xufVxuXG5pb24tZm9vdGVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmctY29sb3IpO1xufVxuaW9uLWZvb3RlciAuZGVsaXZlcnlfbWFuX2luZm8ge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIHBhZGRpbmc6IDEycHggMTRweDtcbn1cbmlvbi1mb290ZXIgLmRlbGl2ZXJ5X21hbl9pbmZvIC5pbWdfYm94IHtcbiAgbWluLXdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xufVxuaW9uLWZvb3RlciAuZGVsaXZlcnlfbWFuX2luZm8gLnRleHRfYm94IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5pb24tZm9vdGVyIC5kZWxpdmVyeV9tYW5faW5mbyAudGV4dF9ib3ggaDIge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcGFkZGluZzogMDtcbiAgcGFkZGluZy1ib3R0b206IDRweDtcbiAgY29sb3I6IHZhcigtLXRleHQtZGFyayk7XG59XG5pb24tZm9vdGVyIC5kZWxpdmVyeV9tYW5faW5mbyAudGV4dF9ib3ggaDMge1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcbiAgZm9udC1zaXplOiAwLjhyZW07XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5pb24tZm9vdGVyIGlvbi1yb3cgaW9uLWNvbCB7XG4gIHBhZGRpbmc6IDA7XG59XG5pb24tZm9vdGVyIGlvbi1yb3cgaW9uLWNvbCAuYnV0dG9uLmJ0biBpb24taWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbGVmdDogLTE4cHg7XG4gIGZvbnQtc2l6ZTogMS4zcmVtO1xufVxuaW9uLWZvb3RlciBpb24tcm93IGlvbi1jb2wgLmJ1dHRvbi5idG4uYnV0dG9uLWNsZWFyIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n//import { Chat2Page } from '../chat2/chat2.page';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { NavController, ModalController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { UiElementsService } from '../services/common/ui-elements.service';\r\nimport { OrderDeliveryProfile } from 'src/models/order.models';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nimport { GoogleMapsService } from '../services/network/google-maps.service';\r\nimport { MyAddress } from 'src/models/address.models';\r\nimport { Constants } from 'src/models/constants.models';\r\nimport { Chat } from 'src/models/chat.models';\r\nimport createHTMLMapMarker from '../../assets/scripts/html-map-marker.js';\r\nimport * as firebase from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'app-order-tracking',\r\n  templateUrl: './order-tracking.page.html',\r\n  styleUrls: ['./order-tracking.page.scss']\r\n})\r\nexport class OrderTrackingPage implements OnInit {\r\n  @ViewChild(\"pleaseConnect\", { static: true }) pleaseConnect: ElementRef;\r\n  @ViewChild(\"map\", { static: true }) mapElement: ElementRef;\r\n  delivery: OrderDeliveryProfile;\r\n  private address: MyAddress;\r\n  private vendor: { name: string; image: string; location: { latitude: string; longitude: string } };\r\n  private initialized = false;\r\n  private markerDeliveryGuy;\r\n  private posDeliveryGuy;\r\n\r\n  private numDeltas = 100;\r\n  private delay = 10; //milliseconds\r\n  private i = 0;\r\n  private deltaLat;\r\n  private deltaLng;\r\n  private lastToPos = [0, 0];\r\n\r\n  constructor(private router: Router, private navCtrl: NavController, private modalController: ModalController, private maps: GoogleMapsService,\r\n    private translate: TranslateService, private uiElementService: UiElementsService, private callNumber: CallNumber) { }\r\n\r\n  ngOnInit() {\r\n    console.log(\"getCurrentNavigation\", this.router.getCurrentNavigation().extras.state);\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.delivery = this.router.getCurrentNavigation().extras.state.delivery;\r\n      // this.delivery.delivery.latitude = \"28.6883748\";\r\n      // this.delivery.delivery.longitude = \"77.2979777\";\r\n      this.address = this.router.getCurrentNavigation().extras.state.address;\r\n      this.vendor = this.router.getCurrentNavigation().extras.state.vendor;\r\n    }\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    if (!this.initialized) {\r\n      let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement, this.address).then(() => {\r\n        this.initialized = true;\r\n        this.plotMarkers();\r\n        this.registerUpdates();\r\n      }).catch(err => { console.log(\"maps.init\", err); this.close() });\r\n      mapLoaded.catch(err => { console.log(\"mapLoaded\", err); this.close() });\r\n    }\r\n  }\r\n\r\n  private plotMarkers() {\r\n    let posMe = new google.maps.LatLng(Number(this.address.latitude), Number(this.address.longitude));\r\n    let markerMe = new google.maps.Marker({\r\n      position: posMe, map: this.maps.map\r\n      //, icon: 'assets/images/marker_map_me.png'\r\n    });\r\n    markerMe.addListener('click', (event) => this.uiElementService.presentToast(this.address.formatted_address));\r\n\r\n    let posVendor = new google.maps.LatLng(Number(this.vendor.location.latitude), Number(this.vendor.location.longitude));\r\n    let markerVendor = createHTMLMapMarker({\r\n      latlng: posVendor,\r\n      map: this.maps.map,\r\n      html: '<div id=\"doctor_map\"><img src=\"' + this.vendor.image + '\"></div>'\r\n    });\r\n    markerVendor.addListener('click', (event) => this.uiElementService.presentToast(this.vendor.name));\r\n\r\n    let directionsService = new google.maps.DirectionsService();\r\n    let directionsDisplay = new google.maps.DirectionsRenderer({\r\n      map: this.maps.map,\r\n      polylineOptions: {\r\n        strokeColor: '#279411',\r\n        strokeOpacity: 1.0,\r\n        strokeWeight: 5\r\n      },\r\n      markerOptions: {\r\n        opacity: 0,\r\n        clickable: false,\r\n        position: markerVendor\r\n      }\r\n    });\r\n    let dirReq: any = {\r\n      origin: posVendor,\r\n      destination: posMe,\r\n      travelMode: google.maps.TravelMode.DRIVING\r\n    };\r\n    directionsService.route(dirReq, function (result, status) {\r\n      if (status == google.maps.DirectionsStatus.OK) {\r\n        directionsDisplay.setDirections(result);\r\n      }\r\n    });\r\n\r\n    if (this.delivery.delivery.latitude && this.delivery.delivery.longitude) {\r\n      this.posDeliveryGuy = new google.maps.LatLng(Number(this.delivery.delivery.latitude), Number(this.delivery.delivery.longitude));\r\n      this.markerDeliveryGuy = createHTMLMapMarker({\r\n        latlng: this.posDeliveryGuy,\r\n        map: this.maps.map,\r\n        html: '<div id=\"doctor_map\"><img src=\"' + this.delivery.delivery.user.image_url + '\"></div>'\r\n      });\r\n      this.markerDeliveryGuy.addListener('click', (event) => this.uiElementService.presentToast(this.delivery.delivery.user.name));\r\n    }\r\n  }\r\n\r\n  private onNewLocation(newPos: google.maps.LatLng) {\r\n    if (!this.posDeliveryGuy || !newPos.equals(this.posDeliveryGuy)) {\r\n\r\n      if (this.posDeliveryGuy != null) {\r\n        this.i = 0;\r\n        this.lastToPos[0] = this.posDeliveryGuy.lat();\r\n        this.lastToPos[1] = this.posDeliveryGuy.lng();\r\n        this.deltaLat = (newPos.lat() - this.lastToPos[0]) / this.numDeltas;\r\n        this.deltaLng = (newPos.lng() - this.lastToPos[1]) / this.numDeltas;\r\n      }\r\n\r\n      if (this.markerDeliveryGuy == null) {\r\n        this.markerDeliveryGuy = createHTMLMapMarker({\r\n          latlng: this.posDeliveryGuy,\r\n          map: this.maps.map,\r\n          html: '<div id=\"doctor_map\"><img src=\"' + this.delivery.delivery.user.image_url + '\"></div>'\r\n        });\r\n      } else {\r\n        //this.markerDeliveryGuy.setPosition(this.posDeliveryGuy);\r\n        this.moveMarker();\r\n      }\r\n      this.maps.map.panTo(this.posDeliveryGuy);\r\n\r\n    }\r\n  }\r\n\r\n  private moveMarker() {\r\n    this.lastToPos[0] = this.lastToPos[0] + this.deltaLat;\r\n    this.lastToPos[1] = this.lastToPos[1] + this.deltaLng;\r\n    let newToPos = new google.maps.LatLng(Number(this.lastToPos[0]), Number(this.lastToPos[1]));\r\n    this.markerDeliveryGuy.setPosition(newToPos);\r\n    this.posDeliveryGuy = newToPos;\r\n    if (this.i != this.numDeltas) {\r\n      this.i++;\r\n      setTimeout(() => {\r\n        this.moveMarker();\r\n      }, this.delay);\r\n    }\r\n    //  else {\r\n    //   this.requestDirection(this.lastTo);\r\n    // }\r\n  }\r\n\r\n  private registerUpdates() {\r\n    const component = this;\r\n    firebase.database().ref(\"deliveries\").child(String(this.delivery.delivery.id)).child(\"location\").on('child_changed', function (data) {\r\n      var fireLocation = data.val() as { latitude: string, longitude: string };\r\n      console.log(fireLocation);\r\n      if (fireLocation.latitude != null && fireLocation.longitude != null) component.onNewLocation(new google.maps.LatLng(Number(fireLocation.latitude), Number(fireLocation.longitude)));\r\n    });\r\n  }\r\n\r\n  private close() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  doCall() {\r\n    this.callNumber.callNumber(this.delivery.delivery.user.mobile_number, false).then(res => console.log('Launched dialer!', res)).catch(err => console.log('Error launching dialer', err));\r\n  }\r\n\r\n  navChat() {\r\n    let chat = new Chat();\r\n    chat.chatId = this.delivery.delivery.user.id + Constants.ROLE_DELIVERY;\r\n    chat.chatImage = this.delivery.delivery.user.image_url;\r\n    chat.chatName = this.delivery.delivery.user.name;\r\n    chat.chatStatus = this.translate.instant(\"delivery_partner\");\r\n    chat.myId = this.delivery.delivery.user.id + Constants.ROLE_USER;\r\n    let navigationExtras: NavigationExtras = { state: { chat: chat, delivery_user: this.delivery.delivery.user } };\r\n    this.navCtrl.navigateForward(['./chat2'], navigationExtras);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { ToastController, LoadingController, AlertController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UiElementsService {\n  private isLoading: boolean;\n\n\n  constructor(private toastController: ToastController, private loadingController: LoadingController,\n    private alertCtrl: AlertController, private translateService: TranslateService) { }\n\n  presentToast(body: string, position?: string, duration?: number) {\n    this.toastController.create({\n      message: body,\n      duration: (duration && duration > 0) ? duration : 1000,\n      position: (position && (position == \"top\" || position == \"middle\")) ? position : \"bottom\"\n    }).then(toast => toast.present());\n  }\n\n  presentErrorAlert(msg: string, headingText?: string, actionText?: string) {\n    this.translateService.get([\"error\", \"dismiss\"]).subscribe(values => {\n      this.alertCtrl.create({\n        header: (headingText ? headingText : values[\"error\"]),\n        message: msg,\n        buttons: [(actionText ? actionText : values[\"dismiss\"])]\n      }).then(alert => alert.present());\n    });\n  }\n\n  async presentLoading(body: string) {\n    this.isLoading = true;\n    return await this.loadingController.create({ message: body }).then(overlay => {\n      overlay.present().then(() => {\n        if (!this.isLoading) {\n          try {\n            overlay.dismiss().then(() => console.log('loading aborted'));\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      });\n    });\n  }\n\n  async dismissLoading() {\n    this.isLoading = false;\n    try {\n      return await this.loadingController.dismiss();\n    } catch (error) {\n      console.log(error);\n      return null;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderTrackingPage } from './order-tracking.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderTrackingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderTrackingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderTrackingPageRoutingModule } from './order-tracking-routing.module';\n\nimport { OrderTrackingPage } from './order-tracking.page';\n\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { GoogleMapsService } from 'src/app/services/network/google-maps.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    OrderTrackingPageRoutingModule\n  ],\n  providers: [CallNumber, GoogleMapsService],\n  declarations: [OrderTrackingPage]\n})\nexport class OrderTrackingPageModule { }\n","export default \".map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.location_icon {\\n  position: absolute;\\n  z-index: 99;\\n  position: absolute;\\n  z-index: 99;\\n  background: var(--secondary);\\n  color: var(--white);\\n  width: 43px;\\n  height: 43px;\\n  border-radius: 50%;\\n  text-align: center;\\n}\\n\\n.location_icon ion-icon {\\n  width: 43px;\\n  height: 43px;\\n  line-height: 43px;\\n  font-size: 1.43rem;\\n}\\n\\n.delivery_man_location {\\n  position: absolute;\\n  z-index: 99;\\n}\\n\\n.delivery_man_location img {\\n  width: 20px;\\n}\\n\\nion-footer {\\n  background: var(--bg-color);\\n}\\n\\nion-footer .delivery_man_info {\\n  background: var(--white);\\n  padding: 12px 14px;\\n}\\n\\nion-footer .delivery_man_info .img_box {\\n  min-width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  margin-right: 16px;\\n}\\n\\nion-footer .delivery_man_info .text_box {\\n  color: black;\\n  width: 100%;\\n}\\n\\nion-footer .delivery_man_info .text_box h2 {\\n  margin: 0;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  padding-bottom: 5px;\\n}\\n\\nion-footer .delivery_man_info .text_box h3 {\\n  margin: 0;\\n  font-size: 0.75rem;\\n  font-weight: 500;\\n}\\n\\nion-footer ion-row ion-col {\\n  padding: 0;\\n}\\n\\nion-footer ion-row ion-col .button.btn ion-icon {\\n  position: relative;\\n  left: -18px;\\n  font-size: 1.3rem;\\n}\\n\\nion-footer ion-row ion-col .button.btn.button-clear {\\n  --background: none;\\n  color: var(--primary);\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hvcC1ob3VyL29yZGVyLXRyYWNraW5nL0Y6XFxmaXZlclxcQmVybmFyZFxcQWdvY2FycnlcXGFnb2NhcnJ5LWN1c3RvbWVyL3NyY1xcYXBwXFxzaG9wLWhvdXJcXG9yZGVyLXRyYWNraW5nXFxvcmRlci10cmFja2luZy5wYWdlLnNjc3MiLCJzcmMvYXBwL3Nob3AtaG91ci9vcmRlci10cmFja2luZy9vcmRlci10cmFja2luZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNDRDs7QURFQTtFQUNDLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUNDRDs7QURDQztFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREdBO0VBQ0Msa0JBQUE7RUFDQSxXQUFBO0FDQUQ7O0FERUM7RUFDQyxXQUFBO0FDQUY7O0FESUE7RUFDQywyQkFBQTtBQ0REOztBREdDO0VBQ0Msd0JBQUE7RUFDQSxrQkFBQTtBQ0RGOztBREdFO0VBQ0MsZUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDREg7O0FESUU7RUFDQyxZQUFBO0VBQ0EsV0FBQTtBQ0ZIOztBRElHO0VBQ0MsU0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDRko7O0FES0c7RUFDQyxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQ0hKOztBRFNFO0VBQ0MsVUFBQTtBQ1BIOztBRFVJO0VBQ0Msa0JBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUNSTDs7QURXSTtFQUNDLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQ1RMIiwiZmlsZSI6InNyYy9hcHAvc2hvcC1ob3VyL29yZGVyLXRyYWNraW5nL29yZGVyLXRyYWNraW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXAge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHRvcDogMDtcblx0bGVmdDogMDtcblx0d2lkdGg6IDEwMCU7XG5cdGhlaWdodDogMTAwJTtcbn1cblxuLmxvY2F0aW9uX2ljb24ge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHotaW5kZXg6IDk5O1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdHotaW5kZXg6IDk5O1xuXHRiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpO1xuXHRjb2xvcjogdmFyKC0td2hpdGUpO1xuXHR3aWR0aDogNDNweDtcblx0aGVpZ2h0OiA0M3B4O1xuXHRib3JkZXItcmFkaXVzOiA1MCU7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblxuXHRpb24taWNvbiB7XG5cdFx0d2lkdGg6IDQzcHg7XG5cdFx0aGVpZ2h0OiA0M3B4O1xuXHRcdGxpbmUtaGVpZ2h0OiA0M3B4O1xuXHRcdGZvbnQtc2l6ZTogMS40M3JlbTtcblx0fVxufVxuXG4uZGVsaXZlcnlfbWFuX2xvY2F0aW9uIHtcblx0cG9zaXRpb246IGFic29sdXRlO1xuXHR6LWluZGV4OiA5OTtcblxuXHRpbWcge1xuXHRcdHdpZHRoOiAyMHB4O1xuXHR9XG59XG5cbmlvbi1mb290ZXIge1xuXHRiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jb2xvcik7XG5cblx0LmRlbGl2ZXJ5X21hbl9pbmZvIHtcblx0XHRiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG5cdFx0cGFkZGluZzogMTJweCAxNHB4O1xuXG5cdFx0LmltZ19ib3gge1xuXHRcdFx0bWluLXdpZHRoOiA1MHB4O1xuXHRcdFx0aGVpZ2h0OiA1MHB4O1xuXHRcdFx0Ym9yZGVyLXJhZGl1czogNTAlO1xuXHRcdFx0bWFyZ2luLXJpZ2h0OiAxNnB4O1xuXHRcdH1cblxuXHRcdC50ZXh0X2JveCB7XG5cdFx0XHRjb2xvcjogYmxhY2s7XG5cdFx0XHR3aWR0aDogMTAwJTtcblxuXHRcdFx0aDIge1xuXHRcdFx0XHRtYXJnaW46IDA7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMXJlbTtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdFx0cGFkZGluZy1ib3R0b206IDVweDtcblx0XHRcdH1cblxuXHRcdFx0aDMge1xuXHRcdFx0XHRtYXJnaW46IDA7XG5cdFx0XHRcdGZvbnQtc2l6ZTogMC43NXJlbTtcblx0XHRcdFx0Zm9udC13ZWlnaHQ6IDUwMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpb24tcm93IHtcblx0XHRpb24tY29sIHtcblx0XHRcdHBhZGRpbmc6IDA7XG5cblx0XHRcdC5idXR0b24uYnRuIHtcblx0XHRcdFx0aW9uLWljb24ge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRcdFx0XHRsZWZ0OiAtMThweDtcblx0XHRcdFx0XHRmb250LXNpemU6IDEuM3JlbTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCYuYnV0dG9uLWNsZWFyIHtcblx0XHRcdFx0XHQtLWJhY2tncm91bmQ6IG5vbmU7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLXByaW1hcnkpO1xuXHRcdFx0XHRcdGZvbnQtd2VpZ2h0OiA1MDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIi5tYXAge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLmxvY2F0aW9uX2ljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpO1xuICBjb2xvcjogdmFyKC0td2hpdGUpO1xuICB3aWR0aDogNDNweDtcbiAgaGVpZ2h0OiA0M3B4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5sb2NhdGlvbl9pY29uIGlvbi1pY29uIHtcbiAgd2lkdGg6IDQzcHg7XG4gIGhlaWdodDogNDNweDtcbiAgbGluZS1oZWlnaHQ6IDQzcHg7XG4gIGZvbnQtc2l6ZTogMS40M3JlbTtcbn1cblxuLmRlbGl2ZXJ5X21hbl9sb2NhdGlvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk7XG59XG4uZGVsaXZlcnlfbWFuX2xvY2F0aW9uIGltZyB7XG4gIHdpZHRoOiAyMHB4O1xufVxuXG5pb24tZm9vdGVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmctY29sb3IpO1xufVxuaW9uLWZvb3RlciAuZGVsaXZlcnlfbWFuX2luZm8ge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIHBhZGRpbmc6IDEycHggMTRweDtcbn1cbmlvbi1mb290ZXIgLmRlbGl2ZXJ5X21hbl9pbmZvIC5pbWdfYm94IHtcbiAgbWluLXdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xufVxuaW9uLWZvb3RlciAuZGVsaXZlcnlfbWFuX2luZm8gLnRleHRfYm94IHtcbiAgY29sb3I6IGJsYWNrO1xuICB3aWR0aDogMTAwJTtcbn1cbmlvbi1mb290ZXIgLmRlbGl2ZXJ5X21hbl9pbmZvIC50ZXh0X2JveCBoMiB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuaW9uLWZvb3RlciAuZGVsaXZlcnlfbWFuX2luZm8gLnRleHRfYm94IGgzIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDAuNzVyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5pb24tZm9vdGVyIGlvbi1yb3cgaW9uLWNvbCB7XG4gIHBhZGRpbmc6IDA7XG59XG5pb24tZm9vdGVyIGlvbi1yb3cgaW9uLWNvbCAuYnV0dG9uLmJ0biBpb24taWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbGVmdDogLTE4cHg7XG4gIGZvbnQtc2l6ZTogMS4zcmVtO1xufVxuaW9uLWZvb3RlciBpb24tcm93IGlvbi1jb2wgLmJ1dHRvbi5idG4uYnV0dG9uLWNsZWFyIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavController, ModalController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { OrderDeliveryProfile } from 'src/models/models-shop-hour/order.models';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { MyAddress } from 'src/models/models-shop-hour/address.models';\nimport createHTMLMapMarker from '../../../assets/scripts/html-map-marker.js';\nimport * as firebase from 'firebase/app';\nimport { UiElementsService } from 'src/app/services/shoup-hour-services/common/ui-elements.service';\nimport { GoogleMapsService } from 'src/app/services/network/google-maps.service';\n\n@Component({\n  selector: 'app-order-tracking',\n  templateUrl: './order-tracking.page.html',\n  styleUrls: ['./order-tracking.page.scss']\n})\nexport class OrderTrackingPage implements OnInit {\n  @ViewChild(\"pleaseConnect\", { static: true }) pleaseConnect: ElementRef;\n  @ViewChild(\"map\", { static: true }) mapElement: ElementRef;\n  delivery: OrderDeliveryProfile;\n  private address: MyAddress;\n  private vendor: { name: string; image: string; location: { latitude: string; longitude: string } };\n  private initialized = false;\n  private markerDeliveryGuy;\n  private posDeliveryGuy;\n\n  private numDeltas = 100;\n  private delay = 10; //milliseconds\n  private i = 0;\n  private deltaLat;\n  private deltaLng;\n  private lastToPos = [0, 0];\n\n  constructor(private router: Router, private navCtrl: NavController, private modalController: ModalController, private maps: GoogleMapsService,\n    private translate: TranslateService, private uiElementService: UiElementsService, private callNumber: CallNumber) { }\n\n  ngOnInit() {\n    console.log(\"getCurrentNavigation\", this.router.getCurrentNavigation().extras.state);\n    if (this.router.getCurrentNavigation().extras.state) {\n      this.delivery = this.router.getCurrentNavigation().extras.state.delivery;\n      // this.delivery.delivery.latitude = \"28.6883748\";\n      // this.delivery.delivery.longitude = \"77.2979777\";\n      this.address = this.router.getCurrentNavigation().extras.state.address;\n      this.vendor = this.router.getCurrentNavigation().extras.state.vendor;\n    }\n  }\n\n  ionViewDidEnter() {\n    if (!this.initialized) {\n      let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement, this.address).then(() => {\n        this.initialized = true;\n        this.plotMarkers();\n        this.registerUpdates();\n      }).catch(err => { console.log(\"maps.init\", err); this.close() });\n      mapLoaded.catch(err => { console.log(\"mapLoaded\", err); this.close() });\n    }\n  }\n\n  private plotMarkers() {\n    let posMe = new google.maps.LatLng(Number(this.address.latitude), Number(this.address.longitude));\n    let markerMe = new google.maps.Marker({\n      position: posMe, map: this.maps.map\n      //, icon: 'assets/images/marker_map_me.png'\n    });\n    markerMe.addListener('click', (event) => this.uiElementService.presentToast(this.address.formatted_address));\n\n    let posVendor = new google.maps.LatLng(Number(this.vendor.location.latitude), Number(this.vendor.location.longitude));\n    let markerVendor = createHTMLMapMarker({\n      latlng: posVendor,\n      map: this.maps.map,\n      html: '<div id=\"doctor_map\"><img src=\"' + this.vendor.image + '\"></div>'\n    });\n    markerVendor.addListener('click', (event) => this.uiElementService.presentToast(this.vendor.name));\n\n    let directionsService = new google.maps.DirectionsService();\n    let directionsDisplay = new google.maps.DirectionsRenderer({\n      map: this.maps.map,\n      polylineOptions: {\n        strokeColor: '#7b49c3',\n        strokeOpacity: 1.0,\n        strokeWeight: 5\n      },\n      markerOptions: {\n        opacity: 0,\n        clickable: false,\n        position: markerVendor\n      }\n    });\n    let dirReq: any = {\n      origin: posVendor,\n      destination: posMe,\n      travelMode: google.maps.TravelMode.DRIVING\n    };\n    directionsService.route(dirReq, function (result, status) {\n      if (status == google.maps.DirectionsStatus.OK) {\n        directionsDisplay.setDirections(result);\n      }\n    });\n\n    if (this.delivery.delivery.latitude && this.delivery.delivery.longitude) {\n      this.posDeliveryGuy = new google.maps.LatLng(Number(this.delivery.delivery.latitude), Number(this.delivery.delivery.longitude));\n      this.markerDeliveryGuy = createHTMLMapMarker({\n        latlng: this.posDeliveryGuy,\n        map: this.maps.map,\n        html: '<div id=\"doctor_map\"><img src=\"' + this.delivery.delivery.user.image_url + '\"></div>'\n      });\n      this.markerDeliveryGuy.addListener('click', (event) => this.uiElementService.presentToast(this.delivery.delivery.user.name));\n    }\n  }\n\n  private onNewLocation(newPos: google.maps.LatLng) {\n    if (!this.posDeliveryGuy || !newPos.equals(this.posDeliveryGuy)) {\n\n      if (this.posDeliveryGuy != null) {\n        this.i = 0;\n        this.lastToPos[0] = this.posDeliveryGuy.lat();\n        this.lastToPos[1] = this.posDeliveryGuy.lng();\n        this.deltaLat = (newPos.lat() - this.lastToPos[0]) / this.numDeltas;\n        this.deltaLng = (newPos.lng() - this.lastToPos[1]) / this.numDeltas;\n      }\n\n      if (this.markerDeliveryGuy == null) {\n        this.markerDeliveryGuy = createHTMLMapMarker({\n          latlng: this.posDeliveryGuy,\n          map: this.maps.map,\n          html: '<div id=\"doctor_map\"><img src=\"' + this.delivery.delivery.user.image_url + '\"></div>'\n        });\n      } else {\n        //this.markerDeliveryGuy.setPosition(this.posDeliveryGuy);\n        this.moveMarker();\n      }\n      this.maps.map.panTo(this.posDeliveryGuy);\n\n    }\n  }\n\n  private moveMarker() {\n    this.lastToPos[0] = this.lastToPos[0] + this.deltaLat;\n    this.lastToPos[1] = this.lastToPos[1] + this.deltaLng;\n    let newToPos = new google.maps.LatLng(Number(this.lastToPos[0]), Number(this.lastToPos[1]));\n    this.markerDeliveryGuy.setPosition(newToPos);\n    this.posDeliveryGuy = newToPos;\n    if (this.i != this.numDeltas) {\n      this.i++;\n      setTimeout(() => {\n        this.moveMarker();\n      }, this.delay);\n    }\n    //  else {\n    //   this.requestDirection(this.lastTo);\n    // }\n  }\n\n  private registerUpdates() {\n    const component = this;\n    firebase.database().ref(\"deliveries\").child(String(this.delivery.delivery.id)).child(\"location\").on('child_changed', function (data) {\n      var fireLocation = data.val() as { latitude: string, longitude: string };\n      console.log(fireLocation);\n      if (fireLocation.latitude != null && fireLocation.longitude != null) component.onNewLocation(new google.maps.LatLng(Number(fireLocation.latitude), Number(fireLocation.longitude)));\n    });\n  }\n\n  private close() {\n    this.navCtrl.pop();\n  }\n\n  doCall() {\n    this.callNumber.callNumber(this.delivery.delivery.user.mobile_number, false).then(res => console.log('Launched dialer!', res)).catch(err => console.log('Error launching dialer', err));\n  }\n}\n"]}