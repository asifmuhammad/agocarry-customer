{"version":3,"sources":["webpack:///src/app/product-list/product-list.page.html","webpack:///src/app/product-list/product-list-routing.module.ts","webpack:///src/app/product-list/product-list.module.ts","webpack:///src/app/product-list/product-list.page.scss","webpack:///src/app/product-list/product-list.page.ts"],"names":["routes","path","component","ProductListPageRoutingModule","imports","forChild","exports","ProductListPageModule","declarations","ProductListPage","router","navCtrl","translate","uiElementService","apiService","eComService","subscriptions","Array","doneAll","pageNo","products","isLoading","console","log","getCurrentNavigation","extras","state","category","get","subscribe","value","presentLoading","loadProducts","sub","unsubscribe","dismissLoading","push","getProductsWithCategoryId","SCOPE_ECOMMERCE","id","res","concat","data","length","infiniteScrollEvent","target","complete","err","event","pro","added","addOrIncrementCartItem","getCartItemFromProduct","presentToast","navigateForward","navigationExtras","queryParams","product_id","selector","template"],"mappings":"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","file":"product-list-product-list-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>\\r\\n            <div class=\\\"title_inner d-flex\\\">\\r\\n                <span class=\\\"title_center\\\" *ngIf=\\\"category\\\">{{category.title}}</span>\\r\\n                <span class=\\\"title_center\\\" *ngIf=\\\"!category\\\">{{'products' | translate}}</span>\\r\\n                <span class=\\\"end cart_icon\\\" (click)=\\\"navCart()\\\">\\r\\n                    <ion-icon class=\\\"zmdi zmdi-shopping-cart ion-text-start\\\"></ion-icon>\\r\\n                    <ion-badge>{{eComService.getCartItemsCount()}}</ion-badge>\\r\\n                </span>\\r\\n            </div>\\r\\n        </ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"bg_color\\\">\\r\\n    <div class=\\\"empty-view\\\" *ngIf=\\\"!isLoading && (!products || !products.length)\\\">\\r\\n        <div style=\\\"text-align:center\\\">\\r\\n            <img src=\\\"assets/images/empty_categories.png\\\" alt=\\\"no offers\\\" />\\r\\n            <span style=\\\"color:#9E9E9E; font-weight:bold;\\\">\\r\\n                {{'empty_results' | translate}}\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"item_row\\\">\\r\\n        <ion-row>\\r\\n            <ion-col size=\\\"6\\\" *ngFor=\\\"let product of products\\\">\\r\\n                <div class=\\\"item ion-text-center\\\">\\r\\n                    <div class=\\\"item_content\\\" (click)=\\\"navProDetail(product)\\\">\\r\\n                        <div *ngIf=\\\"product.prescription_required\\\" class=\\\"prescription_required\\\">\\r\\n                            <img src=\\\"assets/images/px.png\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"img_box\\\">\\r\\n                            <img [src]=\\\"product.images[0]\\\">\\r\\n                        </div>\\r\\n                        <h2>{{product.title}}</h2>\\r\\n                    </div>\\r\\n                    <div class=\\\"item_footer d-flex\\\">\\r\\n                        <h3 class=\\\"ion-text-center\\\">{{product.priceToShow}}</h3>\\r\\n                        <h4 class=\\\"ion-text-center end\\\">\\r\\n                            <span (click)=\\\"addProCart(product)\\\">\\r\\n                                +\\r\\n                            </span>\\r\\n                        </h4>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-infinite-scroll (ionInfinite)=\\\"doInfiniteProducts($event)\\\">\\r\\n            <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"{{'loading' | translate}}\\\">\\r\\n            </ion-infinite-scroll-content>\\r\\n        </ion-infinite-scroll>\\r\\n    </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProductListPage } from './product-list.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProductListPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n   \r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProductListPageRoutingModule } from './product-list-routing.module';\r\n\r\nimport { ProductListPage } from './product-list.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n\tTranslateModule,  \r\n    ProductListPageRoutingModule\r\n  ],\r\n  declarations: [ProductListPage]\r\n})\r\nexport class ProductListPageModule {}\r\n ","export default \"ion-header ion-toolbar ion-title .title_inner span.title_center {\\n  position: absolute;\\n  left: 0;\\n  top: -3px;\\n  right: 0;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  margin: auto;\\n}\\nion-header ion-toolbar ion-title .title_inner span.cart_icon {\\n  position: relative;\\n  min-width: 27px;\\n}\\nion-header ion-toolbar ion-title .title_inner span.cart_icon ion-badge {\\n  background: var(--red_color);\\n  --background: var(--transparent);\\n  --color: var(--white);\\n  --padding-bottom: 0;\\n  --padding-end: 0;\\n  --padding-start: 0;\\n  --padding-top: 0;\\n  border-radius: 50%;\\n  width: 15px;\\n  height: 15px;\\n  line-height: 15px;\\n  display: block;\\n  position: absolute;\\n  top: 12px;\\n  right: 0;\\n}\\nion-header ion-toolbar ion-title .title_inner span.cart_icon ion-icon {\\n  position: relative;\\n  top: 5px;\\n  font-size: 1.35rem;\\n}\\n.prescription_required {\\n  position: absolute;\\n  right: 12px;\\n  z-index: 99;\\n  top: 12px;\\n  width: 18px;\\n}\\n.item_row ion-row {\\n  padding: 6px 6px;\\n}\\n.item_row ion-row ion-col {\\n  padding: 7px 8px;\\n}\\n.item_row ion-row ion-col .item {\\n  background: var(--white);\\n  border-radius: 10px;\\n  overflow: hidden;\\n  text-align: unset !important;\\n}\\n.item_row ion-row ion-col .item .item_content {\\n  padding: 10px 13px;\\n  position: relative;\\n  padding-bottom: 5px;\\n}\\n.item_row ion-row ion-col .item .item_content .img_box {\\n  width: 115px;\\n  height: 115px;\\n  margin: 0 auto;\\n  position: relative;\\n  margin-bottom: 12px;\\n}\\n.item_row ion-row ion-col .item .item_content .img_box img {\\n  width: 98px;\\n  display: block;\\n  margin: auto;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  top: 0;\\n}\\n.item_row ion-row ion-col .item .item_content h2 {\\n  margin: 0;\\n  color: var(--text-dark);\\n  font-size: 0.9rem;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 1;\\n  -webkit-box-orient: vertical;\\n}\\n.item_row ion-row ion-col .item .item_footer h3 {\\n  margin: 0;\\n  font-size: 1rem;\\n  min-width: 50%;\\n  text-align: justify !important;\\n  padding-left: 13px;\\n  font-weight: 600;\\n}\\n.item_row ion-row ion-col .item .item_footer h4 {\\n  color: var(--white);\\n  background: var(--primary);\\n  margin: 0;\\n  font-size: 1.8rem;\\n  height: 34px;\\n  line-height: 31px;\\n  min-width: 35px;\\n  border-radius: 10px 0;\\n  font-weight: 500;\\n}\\n.empty-view {\\n  width: 200px;\\n  margin: auto;\\n  height: 200px;\\n  top: 10%;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 10%;\\n}\\n.empty-view img {\\n  width: 100px;\\n  margin: auto;\\n}\\n.empty-view span {\\n  display: block;\\n  text-align: center;\\n}\\n.empty-view button {\\n  margin-top: 50px;\\n}\\n.empty-view button span {\\n  display: unset !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJvZHVjdC1saXN0L0Y6XFxmaXZlclxcQmVybmFyZFxcQWdvY2FycnlcXGFnb2NhcnJ5LWN1c3RvbWVyL3NyY1xcYXBwXFxwcm9kdWN0LWxpc3RcXHByb2R1Y3QtbGlzdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlnQjtFQUNJLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsWUFBQTtBQ0hwQjtBRE1nQjtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtBQ0pwQjtBRE1vQjtFQUNJLDRCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUVBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7QUNMeEI7QURRb0I7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtBQ054QjtBRGNBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0FDWEo7QURlSTtFQUNJLGdCQUFBO0FDWlI7QURjUTtFQUNJLGdCQUFBO0FDWlo7QURjWTtFQUNJLHdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLDRCQUFBO0FDWmhCO0FEY2dCO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDWnBCO0FEY29CO0VBQ0ksWUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ1p4QjtBRGN3QjtFQUNJLFdBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsTUFBQTtBQ1o1QjtBRGlCb0I7RUFDSSxTQUFBO0VBQ0EsdUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLDRCQUFBO0FDZnhCO0FEc0JvQjtFQUNJLFNBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQ3BCeEI7QUR1Qm9CO0VBQ0ksbUJBQUE7RUFDQSwwQkFBQTtFQUNBLFNBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0FDckJ4QjtBRDZCQTtFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtBQzFCSjtBRDRCSTtFQUNJLFlBQUE7RUFDQSxZQUFBO0FDMUJSO0FENkJJO0VBQ0ksY0FBQTtFQUNBLGtCQUFBO0FDM0JSO0FEOEJJO0VBQ0ksZ0JBQUE7QUM1QlI7QUQ4QlE7RUFDSSx5QkFBQTtBQzVCWiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciB7XHJcbiAgICBpb24tdG9vbGJhciBpb24tdGl0bGUge1xyXG4gICAgICAgIC50aXRsZV9pbm5lciB7XHJcbiAgICAgICAgICAgIHNwYW4ge1xyXG4gICAgICAgICAgICAgICAgJi50aXRsZV9jZW50ZXIge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogLTNweDtcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICYuY2FydF9pY29uIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAyN3B4O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpb24tYmFkZ2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1yZWRfY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLXRyYW5zcGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLS1jb2xvcjogdmFyKC0td2hpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctZW5kOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy10b3A6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvbnQtc2l6ZTogMC42NXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMTJweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiA1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4zNXJlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi5wcmVzY3JpcHRpb25fcmVxdWlyZWQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDEycHg7XHJcbiAgICB6LWluZGV4OiA5OTtcclxuICAgIHRvcDogMTJweDtcclxuICAgIHdpZHRoOiAxOHB4O1xyXG59XHJcblxyXG4uaXRlbV9yb3cge1xyXG4gICAgaW9uLXJvdyB7XHJcbiAgICAgICAgcGFkZGluZzogNnB4IDZweDtcclxuXHJcbiAgICAgICAgaW9uLWNvbCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDdweCA4cHg7XHJcblxyXG4gICAgICAgICAgICAuaXRlbSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHVuc2V0ICFpbXBvcnRhbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLml0ZW1fY29udGVudCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBweCAxM3B4O1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAuaW1nX2JveCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMTVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMTVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogOThweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaDIge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWRhcmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAzMy42cHg7IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAuaXRlbV9mb290ZXIge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoMyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjoganVzdGlmeSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDEzcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBoNCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS13aGl0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS44cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDM1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi5lbXB0eS12aWV3IHtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICB0b3A6IDEwJTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIGJvdHRvbTogMTAlO1xyXG5cclxuICAgIGltZyB7XHJcbiAgICAgICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgICAgIG1hcmdpbjogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICBzcGFuIHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG5cclxuICAgICAgICBzcGFuIHtcclxuICAgICAgICAgICAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUgLnRpdGxlX2lubmVyIHNwYW4udGl0bGVfY2VudGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB0b3A6IC0zcHg7XG4gIHJpZ2h0OiAwO1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gIG1hcmdpbjogYXV0bztcbn1cbmlvbi1oZWFkZXIgaW9uLXRvb2xiYXIgaW9uLXRpdGxlIC50aXRsZV9pbm5lciBzcGFuLmNhcnRfaWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWluLXdpZHRoOiAyN3B4O1xufVxuaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUgLnRpdGxlX2lubmVyIHNwYW4uY2FydF9pY29uIGlvbi1iYWRnZSB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXJlZF9jb2xvcik7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0tdHJhbnNwYXJlbnQpO1xuICAtLWNvbG9yOiB2YXIoLS13aGl0ZSk7XG4gIC0tcGFkZGluZy1ib3R0b206IDA7XG4gIC0tcGFkZGluZy1lbmQ6IDA7XG4gIC0tcGFkZGluZy1zdGFydDogMDtcbiAgLS1wYWRkaW5nLXRvcDogMDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB3aWR0aDogMTVweDtcbiAgaGVpZ2h0OiAxNXB4O1xuICBsaW5lLWhlaWdodDogMTVweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMnB4O1xuICByaWdodDogMDtcbn1cbmlvbi1oZWFkZXIgaW9uLXRvb2xiYXIgaW9uLXRpdGxlIC50aXRsZV9pbm5lciBzcGFuLmNhcnRfaWNvbiBpb24taWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA1cHg7XG4gIGZvbnQtc2l6ZTogMS4zNXJlbTtcbn1cblxuLnByZXNjcmlwdGlvbl9yZXF1aXJlZCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDEycHg7XG4gIHotaW5kZXg6IDk5O1xuICB0b3A6IDEycHg7XG4gIHdpZHRoOiAxOHB4O1xufVxuXG4uaXRlbV9yb3cgaW9uLXJvdyB7XG4gIHBhZGRpbmc6IDZweCA2cHg7XG59XG4uaXRlbV9yb3cgaW9uLXJvdyBpb24tY29sIHtcbiAgcGFkZGluZzogN3B4IDhweDtcbn1cbi5pdGVtX3JvdyBpb24tcm93IGlvbi1jb2wgLml0ZW0ge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtYWxpZ246IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG4uaXRlbV9yb3cgaW9uLXJvdyBpb24tY29sIC5pdGVtIC5pdGVtX2NvbnRlbnQge1xuICBwYWRkaW5nOiAxMHB4IDEzcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbn1cbi5pdGVtX3JvdyBpb24tcm93IGlvbi1jb2wgLml0ZW0gLml0ZW1fY29udGVudCAuaW1nX2JveCB7XG4gIHdpZHRoOiAxMTVweDtcbiAgaGVpZ2h0OiAxMTVweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbn1cbi5pdGVtX3JvdyBpb24tcm93IGlvbi1jb2wgLml0ZW0gLml0ZW1fY29udGVudCAuaW1nX2JveCBpbWcge1xuICB3aWR0aDogOThweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICB0b3A6IDA7XG59XG4uaXRlbV9yb3cgaW9uLXJvdyBpb24tY29sIC5pdGVtIC5pdGVtX2NvbnRlbnQgaDIge1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWRhcmspO1xuICBmb250LXNpemU6IDAuOXJlbTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gIC13ZWJraXQtbGluZS1jbGFtcDogMTtcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbn1cbi5pdGVtX3JvdyBpb24tcm93IGlvbi1jb2wgLml0ZW0gLml0ZW1fZm9vdGVyIGgzIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDFyZW07XG4gIG1pbi13aWR0aDogNTAlO1xuICB0ZXh0LWFsaWduOiBqdXN0aWZ5ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctbGVmdDogMTNweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5pdGVtX3JvdyBpb24tcm93IGlvbi1jb2wgLml0ZW0gLml0ZW1fZm9vdGVyIGg0IHtcbiAgY29sb3I6IHZhcigtLXdoaXRlKTtcbiAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxLjhyZW07XG4gIGhlaWdodDogMzRweDtcbiAgbGluZS1oZWlnaHQ6IDMxcHg7XG4gIG1pbi13aWR0aDogMzVweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweCAwO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uZW1wdHktdmlldyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBoZWlnaHQ6IDIwMHB4O1xuICB0b3A6IDEwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAxMCU7XG59XG4uZW1wdHktdmlldyBpbWcge1xuICB3aWR0aDogMTAwcHg7XG4gIG1hcmdpbjogYXV0bztcbn1cbi5lbXB0eS12aWV3IHNwYW4ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmVtcHR5LXZpZXcgYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cbi5lbXB0eS12aWV3IGJ1dHRvbiBzcGFuIHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Router, NavigationExtras } from '@angular/router';\r\nimport { Category } from 'src/models/category.models';\r\nimport { NavController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { UiElementsService } from '../services/common/ui-elements.service';\r\nimport { ApiService } from '../services/network/api.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { Product } from 'src/models/product.models';\r\nimport { ECommerceService } from '../services/common/ecommerce.service';\r\nimport { Constants } from 'src/models/constants.models';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.page.html',\r\n  styleUrls: ['./product-list.page.scss']\r\n})\r\nexport class ProductListPage implements OnInit, OnDestroy {\r\n  private subscriptions = new Array<Subscription>();\r\n  private doneAll = false;\r\n  private infiniteScrollEvent;\r\n  private pageNo = 1;\r\n  category: Category;\r\n  products = new Array<Product>();\r\n  isLoading = true;\r\n\r\n  constructor(private router: Router, private navCtrl: NavController, private translate: TranslateService,\r\n    private uiElementService: UiElementsService, private apiService: ApiService, public eComService: ECommerceService) {\r\n    console.log(\"getCurrentNavigation\", this.router.getCurrentNavigation().extras.state);\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.category = this.router.getCurrentNavigation().extras.state.category;\r\n    }\r\n    // if (this.category != null) {\r\n    this.translate.get(\"loading\").subscribe(value => {\r\n      this.uiElementService.presentLoading(value);\r\n      this.loadProducts();\r\n    });\r\n    // }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    for (let sub of this.subscriptions) sub.unsubscribe();\r\n    this.uiElementService.dismissLoading();\r\n  }\r\n\r\n  loadProducts() {\r\n    this.subscriptions.push(this.apiService.getProductsWithCategoryId(Constants.SCOPE_ECOMMERCE, this.category ? this.category.id : null, this.pageNo).subscribe(res => {\r\n      this.products = this.products.concat(res.data);\r\n      this.doneAll = (!res.data || !res.data.length);\r\n      if (this.infiniteScrollEvent) this.infiniteScrollEvent.target.complete();\r\n      this.isLoading = false;\r\n      this.uiElementService.dismissLoading();\r\n    }, err => {\r\n      console.log(\"getProductsWithCategoryId\", err);\r\n      this.uiElementService.dismissLoading();\r\n      if (this.infiniteScrollEvent) this.infiniteScrollEvent.target.complete();\r\n      this.isLoading = false;\r\n    }));\r\n  }\r\n\r\n  doInfiniteProducts(event) {\r\n    if (this.doneAll) {\r\n      event.target.complete();\r\n    } else {\r\n      this.infiniteScrollEvent = event;\r\n      this.pageNo = this.pageNo + 1;\r\n      this.loadProducts();\r\n    }\r\n  }\r\n\r\n  addProCart(pro: Product) {\r\n    let added = this.eComService.addOrIncrementCartItem(this.eComService.getCartItemFromProduct(pro));\r\n    this.translate.get((added ? \"added_cart\" : \"incremented_cart\")).subscribe(value => this.uiElementService.presentToast(value));\r\n  }\r\n\r\n  navCart() {\r\n    this.navCtrl.navigateForward(['./my-cart']);\r\n  }\r\n\r\n  navProDetail(pro) {\r\n    let navigationExtras: NavigationExtras = { queryParams: { product_id: pro.id } };\r\n    this.navCtrl.navigateForward(['./product-info'], navigationExtras);\r\n  }\r\n\r\n}\r\n"]}