{"version":3,"sources":["webpack:///src/app/wallet/wallet.page.html","webpack:///src/app/wallet/wallet-routing.module.ts","webpack:///src/app/wallet/wallet.module.ts","webpack:///src/app/wallet/wallet.page.scss","webpack:///src/app/wallet/wallet.page.ts"],"names":["routes","path","component","WalletPageRoutingModule","imports","forChild","exports","WalletPageModule","declarations","WalletPage","navCtrl","translate","uiElementService","apiService","subscriptions","Array","isLoading","transactions","balance","sub","unsubscribe","dismissLoading","currency_icon","getSetting","refreshBalance","push","getBalance","subscribe","res","length","getTransactions","handleTransactionRes","err","handleTransactionErr","console","log","concat","data","nextUrl","links","next","infiniteScrollEvent","target","complete","event","getURL","trans","setupTransaction","selector","template"],"mappings":"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","file":"wallet-wallet-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>\\n            <div class=\\\"title_inner d-flex\\\">\\n                <span>{{'wallet' | translate}}</span>\\n                <!-- <ion-icon class=\\\"zmdi zmdi-more-vert end ion-text-end\\\"></ion-icon> -->\\n            </div>\\n        </ion-title>\\n    </ion-toolbar>\\n    <div class=\\\"banner\\\">\\n        <h2>{{'available_balance' | translate}}</h2>\\n        <h1>{{currency_icon}} {{balance}}</h1>\\n    </div>\\n</ion-header>\\n\\n<ion-content class=\\\"bg_color\\\" fullscreen>\\n\\n    <div class=\\\"empty-view\\\" *ngIf=\\\"!isLoading && (!transactions || !transactions.length)\\\">\\n        <div style=\\\"text-align:center\\\">\\n            <img src=\\\"assets/images/plc_no_transaction.png\\\" alt=\\\"no offers\\\" />\\n            <span style=\\\"color:#9E9E9E; font-weight:bold;\\\">\\n                {{'empty_transactions' | translate}}\\n            </span>\\n        </div>\\n    </div>\\n\\n    <ion-list lines=\\\"none\\\">\\n        <h2 *ngIf=\\\"transactions && transactions.length\\\">{{'recent' | translate}}</h2>\\n        <ion-item *ngFor=\\\"let transaction of transactions\\\">\\n            <div class=\\\"item_inner\\\">\\n                <h3 class=\\\"d-flex\\\">\\n                    <div *ngIf=\\\"transaction.type == 'payout'\\\">{{'sent_to_bank' | translate}}</div>\\n                    <div *ngIf=\\\"transaction.type != 'payout'\\\">{{transaction.meta.description}}</div>\\n                    <span class=\\\"end\\\">{{currency_icon}}{{transaction.meta.source_amount}}</span>\\n                </h3>\\n                <h4 class=\\\"d-flex\\\">\\n                    {{transaction.created_at}}\\n                    <span class=\\\"end\\\">{{currency_icon}}{{transaction.amount}} |\\n                        {{transaction.meta.source_payment_type}}</span>\\n                </h4>\\n            </div>\\n        </ion-item>\\n    </ion-list>\\n    <ion-infinite-scroll (ionInfinite)=\\\"doInfiniteTransactions($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"{{'loading' | translate}}\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\\n<ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"navAddMoney()\\\">{{'add_money' | translate}}</ion-button>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WalletPage } from './wallet.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WalletPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WalletPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n  \nimport { IonicModule } from '@ionic/angular';\n\nimport { WalletPageRoutingModule } from './wallet-routing.module';\n\nimport { WalletPage } from './wallet.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,   \n    WalletPageRoutingModule\n  ],\n  declarations: [WalletPage]\n})\nexport class WalletPageModule {}\n","export default \"ion-header {\\n  background: var(--white);\\n}\\nion-header ion-toolbar ion-title .title_inner {\\n  position: relative;\\n  min-height: 60px;\\n}\\nion-header ion-toolbar ion-title span {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\nion-header ion-toolbar ion-title ion-icon {\\n  font-size: 1.4rem;\\n  padding: 0 1px;\\n  min-width: 20px;\\n}\\nion-header .banner {\\n  position: relative;\\n  z-index: 99;\\n  padding: 20px;\\n}\\nion-header .banner h2 {\\n  margin: 0;\\n  text-transform: uppercase;\\n  font-size: 0.9rem;\\n  font-weight: 400;\\n  letter-spacing: 1px;\\n  padding-bottom: 4px;\\n  color: var(--text-light2);\\n}\\nion-header .banner h1 {\\n  margin: 0;\\n  font-weight: 600;\\n  font-size: 2.35rem;\\n  color: var(--text-black);\\n}\\nion-list {\\n  background: var(--transparent) !important;\\n  margin: 0;\\n  padding: 0;\\n}\\nion-list h2 {\\n  margin: 0;\\n  color: var(--text-light2);\\n  font-weight: 400;\\n  font-size: 0.95rem;\\n  padding: 15px;\\n}\\nion-list ion-item {\\n  padding: 16px 15px 16px 15px;\\n  background: var(--white);\\n  --inner-padding-end: 0px;\\n  --inner-min-height: unset !important;\\n  --min-height: unset !important;\\n  --padding-start: 0;\\n  --highligh-color-focused: var(--transparent) !important;\\n  margin-bottom: 5px;\\n}\\nion-list ion-item .item_inner {\\n  width: 100%;\\n}\\nion-list ion-item .item_inner h3 {\\n  margin: 0;\\n  font-size: 0.95rem;\\n  font-weight: 600;\\n  padding-bottom: 8px;\\n  color: var(--text-dark);\\n}\\nion-list ion-item .item_inner h3 span {\\n  color: #e43333;\\n  font-weight: 500;\\n  font-size: 0.92rem;\\n}\\nion-list ion-item .item_inner h4 {\\n  margin: 0;\\n  color: var(--text-light);\\n  font-size: 0.8rem;\\n  overflow: hidden;\\n}\\nion-list ion-item.money_added .item_inner h3 span {\\n  color: #9fe41b;\\n  font-weight: 400;\\n}\\n.button.btn {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  position: fixed;\\n  top: 143px;\\n  z-index: 9999;\\n  right: 16px;\\n  font-size: 0.95rem;\\n  min-width: 140px;\\n  height: 48px;\\n  text-transform: none;\\n  font-weight: 400;\\n}\\n.empty-view {\\n  width: 200px;\\n  margin: auto;\\n  height: 200px;\\n  top: 10%;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 10%;\\n}\\n.empty-view img {\\n  width: 100px;\\n  margin: auto;\\n}\\n.empty-view span {\\n  display: block;\\n  text-align: center;\\n}\\n.empty-view button {\\n  margin-top: 50px;\\n}\\n.empty-view button span {\\n  display: unset !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvd2FsbGV0L0Y6XFxmaXZlclxcQmVybmFyZFxcRG9jdG9yIFdvcmxkXFxEb2N0b1dvcmxkX0FwcENvZGUgKFZpZGVvIENhbGwpLTIwMjEwODA5VDEwMTQwN1otMDAxXFxEb2N0b1dvcmxkX0FwcENvZGUgKFZpZGVvIENhbGwpXFxkb2N0b3dvcmxkX2N1c3RvbWVyXFxkb2N0b3dvcmxkX2N1c3RvbWVyL3NyY1xcYXBwXFx3YWxsZXRcXHdhbGxldC5wYWdlLnNjc3MiLCJzcmMvYXBwL3dhbGxldC93YWxsZXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7QUNDSjtBREVRO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtBQ0FaO0FER1E7RUFDSSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7QUNEWjtBRElRO0VBQ0ksaUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0ZaO0FETUk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0FDSlI7QURNUTtFQUNJLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUNKWjtBRE9RO0VBQ0ksU0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtBQ0xaO0FEU0E7RUFDSSx5Q0FBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FDTko7QURRSTtFQUNJLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0FDTlI7QURTSTtFQUNJLDRCQUFBO0VBQ0Esd0JBQUE7RUFDQSx3QkFBQTtFQUNBLG9DQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQkFBQTtFQUNBLHVEQUFBO0VBQ0Esa0JBQUE7QUNQUjtBRFNRO0VBQ0ksV0FBQTtBQ1BaO0FEU1k7RUFDSSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUNQaEI7QURTZ0I7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQ1BwQjtBRFdZO0VBQ0ksU0FBQTtFQUNBLHdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ1RoQjtBRGdCb0I7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7QUNkeEI7QURxQkE7RUFDSSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtFQUNBLGdCQUFBO0FDbEJKO0FEcUJBO0VBQ0ksWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDbEJKO0FEb0JJO0VBQ0ksWUFBQTtFQUNBLFlBQUE7QUNsQlI7QURxQkk7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7QUNuQlI7QURzQkk7RUFDSSxnQkFBQTtBQ3BCUjtBRHNCUTtFQUNJLHlCQUFBO0FDcEJaIiwiZmlsZSI6InNyYy9hcHAvd2FsbGV0L3dhbGxldC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG5cbiAgICBpb24tdG9vbGJhciBpb24tdGl0bGUge1xuICAgICAgICAudGl0bGVfaW5uZXIge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgbWluLWhlaWdodDogNjBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07XG4gICAgICAgICAgICBwYWRkaW5nOiAwIDFweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMjBweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5iYW5uZXIge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHotaW5kZXg6IDk5O1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuXG4gICAgICAgIGgyIHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDRweDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0Mik7XG4gICAgICAgIH1cblxuICAgICAgICBoMSB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAyLjM1cmVtO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuaW9uLWxpc3Qge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXRyYW5zcGFyZW50KSAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuXG4gICAgaDIge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0Mik7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMC45NXJlbTtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICB9XG5cbiAgICBpb24taXRlbSB7XG4gICAgICAgIHBhZGRpbmc6IDE2cHggMTVweCAxNnB4IDE1cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgICAgICAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xuICAgICAgICAtLWlubmVyLW1pbi1oZWlnaHQ6IHVuc2V0ICFpbXBvcnRhbnQ7XG4gICAgICAgIC0tbWluLWhlaWdodDogdW5zZXQgIWltcG9ydGFudDtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAgICAgICAtLWhpZ2hsaWdoLWNvbG9yLWZvY3VzZWQ6IHZhcigtLXRyYW5zcGFyZW50KSAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG5cbiAgICAgICAgLml0ZW1faW5uZXIge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG5cbiAgICAgICAgICAgIGgzIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjk1cmVtO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1kYXJrKTtcblxuICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2U0MzMzMztcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjkycmVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaDQge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICYubW9uZXlfYWRkZWQge1xuICAgICAgICAgICAgLml0ZW1faW5uZXIge1xuICAgICAgICAgICAgICAgIGgzIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzlmZTQxYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4uYnV0dG9uLmJ0biB7XG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDE0M3B4O1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgcmlnaHQ6IDE2cHg7XG4gICAgZm9udC1zaXplOiAwLjk1cmVtO1xuICAgIG1pbi13aWR0aDogMTQwcHg7XG4gICAgaGVpZ2h0OiA0OHB4O1xuICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG5cbi5lbXB0eS12aWV3IHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgdG9wOiAxMCU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAxMCU7XG5cbiAgICBpbWcge1xuICAgICAgICB3aWR0aDogMTAwcHg7XG4gICAgICAgIG1hcmdpbjogYXV0bztcbiAgICB9XG5cbiAgICBzcGFuIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICBidXR0b24ge1xuICAgICAgICBtYXJnaW4tdG9wOiA1MHB4O1xuXG4gICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImlvbi1oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG59XG5pb24taGVhZGVyIGlvbi10b29sYmFyIGlvbi10aXRsZSAudGl0bGVfaW5uZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1pbi1oZWlnaHQ6IDYwcHg7XG59XG5pb24taGVhZGVyIGlvbi10b29sYmFyIGlvbi10aXRsZSBzcGFuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbn1cbmlvbi1oZWFkZXIgaW9uLXRvb2xiYXIgaW9uLXRpdGxlIGlvbi1pY29uIHtcbiAgZm9udC1zaXplOiAxLjRyZW07XG4gIHBhZGRpbmc6IDAgMXB4O1xuICBtaW4td2lkdGg6IDIwcHg7XG59XG5pb24taGVhZGVyIC5iYW5uZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDk5O1xuICBwYWRkaW5nOiAyMHB4O1xufVxuaW9uLWhlYWRlciAuYmFubmVyIGgyIHtcbiAgbWFyZ2luOiAwO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXNpemU6IDAuOXJlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgcGFkZGluZy1ib3R0b206IDRweDtcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQyKTtcbn1cbmlvbi1oZWFkZXIgLmJhbm5lciBoMSB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAyLjM1cmVtO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG59XG5cbmlvbi1saXN0IHtcbiAgYmFja2dyb3VuZDogdmFyKC0tdHJhbnNwYXJlbnQpICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cbmlvbi1saXN0IGgyIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodDIpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LXNpemU6IDAuOTVyZW07XG4gIHBhZGRpbmc6IDE1cHg7XG59XG5pb24tbGlzdCBpb24taXRlbSB7XG4gIHBhZGRpbmc6IDE2cHggMTVweCAxNnB4IDE1cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xuICAtLWlubmVyLW1pbi1oZWlnaHQ6IHVuc2V0ICFpbXBvcnRhbnQ7XG4gIC0tbWluLWhlaWdodDogdW5zZXQgIWltcG9ydGFudDtcbiAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAtLWhpZ2hsaWdoLWNvbG9yLWZvY3VzZWQ6IHZhcigtLXRyYW5zcGFyZW50KSAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5pb24tbGlzdCBpb24taXRlbSAuaXRlbV9pbm5lciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWxpc3QgaW9uLWl0ZW0gLml0ZW1faW5uZXIgaDMge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgY29sb3I6IHZhcigtLXRleHQtZGFyayk7XG59XG5pb24tbGlzdCBpb24taXRlbSAuaXRlbV9pbm5lciBoMyBzcGFuIHtcbiAgY29sb3I6ICNlNDMzMzM7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMC45MnJlbTtcbn1cbmlvbi1saXN0IGlvbi1pdGVtIC5pdGVtX2lubmVyIGg0IHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuaW9uLWxpc3QgaW9uLWl0ZW0ubW9uZXlfYWRkZWQgLml0ZW1faW5uZXIgaDMgc3BhbiB7XG4gIGNvbG9yOiAjOWZlNDFiO1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4uYnV0dG9uLmJ0biB7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDE0M3B4O1xuICB6LWluZGV4OiA5OTk5O1xuICByaWdodDogMTZweDtcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xuICBtaW4td2lkdGg6IDE0MHB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4uZW1wdHktdmlldyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBoZWlnaHQ6IDIwMHB4O1xuICB0b3A6IDEwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAxMCU7XG59XG4uZW1wdHktdmlldyBpbWcge1xuICB3aWR0aDogMTAwcHg7XG4gIG1hcmdpbjogYXV0bztcbn1cbi5lbXB0eS12aWV3IHNwYW4ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmVtcHR5LXZpZXcgYnV0dG9uIHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cbi5lbXB0eS12aWV3IGJ1dHRvbiBzcGFuIHtcbiAgZGlzcGxheTogdW5zZXQgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NavController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UiElementsService } from '../services/common/ui-elements.service';\nimport { ApiService } from '../services/network/api.service';\nimport { Helper } from 'src/models/helper.models';\nimport { BaseListResponse } from 'src/models/base-list.models';\nimport { WalletTransaction } from 'src/models/wallet-transaction.models';\n\n@Component({\n  selector: 'app-wallet',\n  templateUrl: './wallet.page.html',\n  styleUrls: ['./wallet.page.scss'],\n})\nexport class WalletPage implements OnInit, OnDestroy {\n  private subscriptions = new Array<Subscription>();\n  private infiniteScrollEvent;\n  private nextUrl: string;\n  isLoading = true;\n  transactions = new Array<WalletTransaction>();\n  currency_icon: string;\n  balance = 0;\n\n  constructor(private navCtrl: NavController, private translate: TranslateService,\n    private uiElementService: UiElementsService, private apiService: ApiService) { }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    for (let sub of this.subscriptions) sub.unsubscribe();\n    this.uiElementService.dismissLoading();\n  }\n\n  ionViewDidEnter() {\n    this.currency_icon = Helper.getSetting(\"currency_icon\");\n    this.refreshBalance();\n  }\n\n  refreshBalance() {\n    this.subscriptions.push(this.apiService.getBalance().subscribe(res => {\n      if (res.balance != this.balance || ((!this.transactions || !this.transactions.length) && res.balance != 0)) {\n        this.transactions = [];\n        this.isLoading = true;\n        this.subscriptions.push(this.apiService.getTransactions().subscribe(res => this.handleTransactionRes(res), err => this.handleTransactionErr(err)));\n      } else {\n        this.isLoading = false;\n      }\n      this.balance = res.balance;\n    }, err => {\n      console.log(\"getBalance\", err);\n      this.isLoading = false;\n    }));\n  }\n\n  handleTransactionRes(res: BaseListResponse) {\n    this.transactions = this.transactions.concat(res.data);\n    this.nextUrl = res.links.next;\n    if (this.infiniteScrollEvent) this.infiniteScrollEvent.target.complete();\n    this.isLoading = false;\n    this.uiElementService.dismissLoading();\n  }\n\n  handleTransactionErr(err) {\n    console.log(\"handleTransactionErr\", err);\n    this.uiElementService.dismissLoading();\n    if (this.infiniteScrollEvent) this.infiniteScrollEvent.target.complete();\n    this.isLoading = false;\n  }\n\n  doInfiniteTransactions(event) {\n    if (this.nextUrl == null) {\n      event.target.complete();\n    } else {\n      this.infiniteScrollEvent = event;\n      this.subscriptions.push(this.apiService.getURL(this.nextUrl).subscribe(res => {\n        if (res && res.data && res.data.length) for (let trans of res.data) this.apiService.setupTransaction(trans);\n        this.handleTransactionRes(res);\n      }, err => this.handleTransactionErr(err)));\n    }\n  }\n\n  navAddMoney() {\n    //this.navCtrl.navigateForward(['./add-money']);\n  }\n}\n"]}