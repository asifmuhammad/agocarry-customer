{"version":3,"sources":["webpack:///src/app/item-review/item-review.page.html","webpack:///src/app/item-review/item-review-routing.module.ts","webpack:///src/app/item-review/item-review.module.ts","webpack:///src/app/item-review/item-review.page.scss","webpack:///src/app/item-review/item-review.page.ts"],"names":["routes","path","component","ItemReviewPageRoutingModule","imports","forChild","exports","ItemReviewPageModule","declarations","ItemReviewPage","router","navCtrl","translate","uiElementService","apiService","subscriptions","Array","rateRequest","products","console","log","getCurrentNavigation","extras","state","order","map","element","vendor_product","product","reviewed","push","rating","review","sub","unsubscribe","dismissLoading","index","length","get","subscribe","value","presentToast","postReviewProduct","id","res","addReviewedProductId","String","pop","err","found","error","errors","presentErrorAlert","selector","template"],"mappings":"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","file":"item-review-item-review-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>\\n            {{'review_order' | translate}}\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"bg_color\\\" fullscreen>\\n    <div class=\\\"form\\\">\\n        <ion-list lines=\\\"none\\\">\\n            <ion-card *ngFor=\\\"let product of products;let i = index\\\">\\n                <div class=\\\"item_detail d-flex\\\">\\n                    <div class=\\\"text_box\\\">\\n                        <h2>{{order.vendor.name}}</h2>\\n                        <h3>{{product.title}}</h3>\\n                    </div>\\n                    <div class=\\\"img_box end\\\">\\n                        <img [src]=\\\"product.images[0]\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"overall_experience\\\">\\n                    <h2>{{'overall_experience' | translate}}</h2>\\n                    <div class=\\\"icon_box\\\">\\n                        <ion-icon  [ngClass]=\\\"rateRequest[i].rating>=1 ? 'zmdi zmdi-star active' : 'zmdi zmdi-star' \\\" (click)=\\\"setRating(1,i)\\\"></ion-icon>\\n                        <ion-icon  [ngClass]=\\\"rateRequest[i].rating>=2 ? 'zmdi zmdi-star active' : 'zmdi zmdi-star' \\\" (click)=\\\"setRating(2,i)\\\"></ion-icon>\\n                        <ion-icon  [ngClass]=\\\"rateRequest[i].rating>=3 ? 'zmdi zmdi-star active' : 'zmdi zmdi-star' \\\" (click)=\\\"setRating(3,i)\\\"></ion-icon>\\n                        <ion-icon  [ngClass]=\\\"rateRequest[i].rating>=4 ? 'zmdi zmdi-star active' : 'zmdi zmdi-star' \\\" (click)=\\\"setRating(4,i)\\\"></ion-icon>\\n                        <ion-icon  [ngClass]=\\\"rateRequest[i].rating>=5 ? 'zmdi zmdi-star active' : 'zmdi zmdi-star' \\\" (click)=\\\"setRating(5,i)\\\"></ion-icon>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"add_feedback\\\">\\n                    <h2>{{'add_feedback' | translate}}</h2>\\n                    <ion-item lines=\\\"none\\\">\\n                        <ion-textarea rows=\\\"2\\\" mode=\\\"md\\\" type=\\\"text\\\" [(ngModel)]=\\\"rateRequest[i].review\\\" maxlength=\\\"140\\\" placeholder=\\\"{{'write_your_feedback' | translate}}\\\">\\n                        </ion-textarea>\\n                    </ion-item>\\n                </div>\\n                <ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"submitRating(i)\\\">{{'submit' | translate}}</ion-button>\\n            </ion-card>\\n\\n            <!-- <ion-card>\\n                <div class=\\\"item_detail d-flex\\\">\\n                    <div class=\\\"text_box\\\">\\n                        <h2>Well life Store</h2>\\n                        <h3>Salospir 100mg <br>Tablet</h3>\\n                    </div>\\n                    <div class=\\\"img_box end\\\">\\n                        <img src=\\\"assets/images/11.png\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"overall_experience\\\">\\n                    <h2>{{'overall_experience' | translate}}</h2>\\n                    <div class=\\\"icon_box\\\">\\n                        <ion-icon class=\\\"zmdi zmdi-star active\\\"></ion-icon>\\n                        <ion-icon class=\\\"zmdi zmdi-star active\\\"></ion-icon>\\n                        <ion-icon class=\\\"zmdi zmdi-star active\\\"></ion-icon>\\n                        <ion-icon class=\\\"zmdi zmdi-star active\\\"></ion-icon>\\n                        <ion-icon class=\\\"zmdi zmdi-star\\\"></ion-icon>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"add_feedback\\\">\\n                    <h2>{{'add_feedback' | translate}}</h2>\\n                    <ion-item lines=\\\"none\\\">\\n                        <ion-textarea class=\\\"ion-text-start\\\" rows=\\\"4\\\" maxlength=\\\"140\\\" placeholder=\\\"{{'write_your_feedback' | translate}}\\\"></ion-textarea>\\n                    </ion-item>\\n                </div>\\n                <ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\">{{'submit' | translate}}</ion-button>\\n            </ion-card> -->\\n        </ion-list>\\n    </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ItemReviewPage } from './item-review.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemReviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ItemReviewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemReviewPageRoutingModule } from './item-review-routing.module';\n\nimport { ItemReviewPage } from './item-review.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,     \n    ItemReviewPageRoutingModule\n  ],\n  declarations: [ItemReviewPage]\n})\nexport class ItemReviewPageModule {}\n","export default \".form {\\n  width: 100%;\\n}\\n.form ion-list {\\n  padding-top: 8px;\\n}\\n.form ion-list ion-card {\\n  padding: 0;\\n  background: var(--white);\\n  border-radius: 0;\\n  box-shadow: none;\\n  margin: 0;\\n  width: 100%;\\n  margin-bottom: 8px;\\n  padding: 0;\\n}\\n.form ion-list ion-card .item_detail {\\n  padding: 20px;\\n  padding-bottom: 0px;\\n}\\n.form ion-list ion-card .item_detail .img_box {\\n  width: 100%;\\n  min-width: 120px;\\n  max-width: 120px;\\n}\\n.form ion-list ion-card .item_detail .img_box img {\\n  max-width: 120px;\\n}\\n.form ion-list ion-card .item_detail .text_box {\\n  width: 100%;\\n}\\n.form ion-list ion-card .item_detail .text_box h3 {\\n  margin: 0;\\n  color: var(--text-dark);\\n  font-size: 1.53rem;\\n  font-weight: 600;\\n}\\n.form ion-list ion-card .item_detail .text_box h2 {\\n  margin: 0;\\n  color: var(--text-light2);\\n  font-size: 0.94rem;\\n  font-weight: 400;\\n  padding-bottom: 7px;\\n}\\n.form ion-list ion-card .overall_experience {\\n  padding: 20px;\\n  padding-bottom: 10px;\\n}\\n.form ion-list ion-card .overall_experience h2 {\\n  margin: 0;\\n  color: var(--text-light2);\\n  font-size: 0.94rem;\\n  font-weight: 400;\\n  letter-spacing: 0;\\n  padding-bottom: 15px;\\n}\\n.form ion-list ion-card .overall_experience .icon_box ion-icon {\\n  color: #dddddd;\\n  font-size: 2.54rem;\\n}\\n.form ion-list ion-card .overall_experience .icon_box ion-icon.active {\\n  color: var(--yelow_color);\\n}\\n.form ion-list ion-card .add_feedback {\\n  padding: 20px;\\n}\\n.form ion-list ion-card .add_feedback h2 {\\n  margin: 0;\\n  color: var(--text-light2);\\n  font-size: 0.94rem;\\n  font-weight: 400;\\n  letter-spacing: 0;\\n  padding-bottom: 20px;\\n}\\n.form ion-list ion-card .add_feedback ion-item.item-has-placeholder {\\n  margin-bottom: 0;\\n  background: var(--bg-color) !important;\\n  border-radius: 3px;\\n}\\n.form ion-list ion-card .add_feedback ion-item.item-has-placeholder ion-textarea,\\n.form ion-list ion-card .add_feedback ion-item.item-has-placeholder ion-input {\\n  --placeholder-opacity: 1;\\n  font-size: 1rem !important;\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaXRlbS1yZXZpZXcvRjpcXGZpdmVyXFxCZXJuYXJkXFxEb2N0b3IgV29ybGRcXERvY3RvV29ybGRfQXBwQ29kZSAoVmlkZW8gQ2FsbCktMjAyMTA4MDlUMTAxNDA3Wi0wMDFcXERvY3RvV29ybGRfQXBwQ29kZSAoVmlkZW8gQ2FsbClcXGRvY3Rvd29ybGRfY3VzdG9tZXJcXGRvY3Rvd29ybGRfY3VzdG9tZXIvc3JjXFxhcHBcXGl0ZW0tcmV2aWV3XFxpdGVtLXJldmlldy5wYWdlLnNjc3MiLCJzcmMvYXBwL2l0ZW0tcmV2aWV3L2l0ZW0tcmV2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7QUNDSjtBRENJO0VBQ0ksZ0JBQUE7QUNDUjtBRENRO0VBQ0ksVUFBQTtFQUNBLHdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FDQ1o7QURDWTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQ0NoQjtBRENnQjtFQUNJLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDQ3BCO0FEQ29CO0VBQ0ksZ0JBQUE7QUNDeEI7QURHZ0I7RUFDSSxXQUFBO0FDRHBCO0FER29CO0VBQ0ksU0FBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQ0R4QjtBRElvQjtFQUNJLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0Z4QjtBRE9ZO0VBQ0ksYUFBQTtFQUNBLG9CQUFBO0FDTGhCO0FET2dCO0VBQ0ksU0FBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUNMcEI7QURTb0I7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7QUNQeEI7QURTd0I7RUFDSSx5QkFBQTtBQ1A1QjtBRGFZO0VBQ0ksYUFBQTtBQ1hoQjtBRGFnQjtFQUNJLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0FDWHBCO0FEZW9CO0VBQ0ksZ0JBQUE7RUFDQSxzQ0FBQTtFQUNBLGtCQUFBO0FDYnhCO0FEZXdCOztFQUVJLHdCQUFBO0VBQ0EsMEJBQUE7RUFDQSxTQUFBO0FDYjVCIiwiZmlsZSI6InNyYy9hcHAvaXRlbS1yZXZpZXcvaXRlbS1yZXZpZXcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvcm0ge1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgaW9uLWxpc3Qge1xuICAgICAgICBwYWRkaW5nLXRvcDogOHB4O1xuXG4gICAgICAgIGlvbi1jYXJkIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMDtcblxuICAgICAgICAgICAgLml0ZW1fZGV0YWlsIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwcHg7XG5cbiAgICAgICAgICAgICAgICAuaW1nX2JveCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDEyMHB4O1xuICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEyMHB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGltZyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEyMHB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnRleHRfYm94IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG5cbiAgICAgICAgICAgICAgICAgICAgaDMge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtZGFyayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuNTNyZW07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaDIge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45NHJlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogN3B4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAub3ZlcmFsbF9leHBlcmllbmNlIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuXG4gICAgICAgICAgICAgICAgaDIge1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0Mik7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45NHJlbTtcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDA7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5pY29uX2JveCB7XG4gICAgICAgICAgICAgICAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZGRkZGRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyLjU0cmVtO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAmLmFjdGl2ZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXllbG93X2NvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmFkZF9mZWVkYmFjayB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDtcblxuICAgICAgICAgICAgICAgIGgyIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodDIpO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOTRyZW07XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwO1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpb24taXRlbSB7XG4gICAgICAgICAgICAgICAgICAgICYuaXRlbS1oYXMtcGxhY2Vob2xkZXIge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWNvbG9yKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpb24tdGV4dGFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpb24taW5wdXQge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tcGxhY2Vob2xkZXItb3BhY2l0eTogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW0gIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxufSIsIi5mb3JtIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZm9ybSBpb24tbGlzdCB7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCB7XG4gIHBhZGRpbmc6IDA7XG4gIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgYm9yZGVyLXJhZGl1czogMDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICBwYWRkaW5nOiAwO1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLml0ZW1fZGV0YWlsIHtcbiAgcGFkZGluZzogMjBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbn1cbi5mb3JtIGlvbi1saXN0IGlvbi1jYXJkIC5pdGVtX2RldGFpbCAuaW1nX2JveCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4td2lkdGg6IDEyMHB4O1xuICBtYXgtd2lkdGg6IDEyMHB4O1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLml0ZW1fZGV0YWlsIC5pbWdfYm94IGltZyB7XG4gIG1heC13aWR0aDogMTIwcHg7XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAuaXRlbV9kZXRhaWwgLnRleHRfYm94IHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAuaXRlbV9kZXRhaWwgLnRleHRfYm94IGgzIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1kYXJrKTtcbiAgZm9udC1zaXplOiAxLjUzcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLml0ZW1fZGV0YWlsIC50ZXh0X2JveCBoMiB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQyKTtcbiAgZm9udC1zaXplOiAwLjk0cmVtO1xuICBmb250LXdlaWdodDogNDAwO1xuICBwYWRkaW5nLWJvdHRvbTogN3B4O1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLm92ZXJhbGxfZXhwZXJpZW5jZSB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLm92ZXJhbGxfZXhwZXJpZW5jZSBoMiB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQyKTtcbiAgZm9udC1zaXplOiAwLjk0cmVtO1xuICBmb250LXdlaWdodDogNDAwO1xuICBsZXR0ZXItc3BhY2luZzogMDtcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAub3ZlcmFsbF9leHBlcmllbmNlIC5pY29uX2JveCBpb24taWNvbiB7XG4gIGNvbG9yOiAjZGRkZGRkO1xuICBmb250LXNpemU6IDIuNTRyZW07XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAub3ZlcmFsbF9leHBlcmllbmNlIC5pY29uX2JveCBpb24taWNvbi5hY3RpdmUge1xuICBjb2xvcjogdmFyKC0teWVsb3dfY29sb3IpO1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLmFkZF9mZWVkYmFjayB7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAuYWRkX2ZlZWRiYWNrIGgyIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodDIpO1xuICBmb250LXNpemU6IDAuOTRyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxldHRlci1zcGFjaW5nOiAwO1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbn1cbi5mb3JtIGlvbi1saXN0IGlvbi1jYXJkIC5hZGRfZmVlZGJhY2sgaW9uLWl0ZW0uaXRlbS1oYXMtcGxhY2Vob2xkZXIge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jb2xvcikgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuLmZvcm0gaW9uLWxpc3QgaW9uLWNhcmQgLmFkZF9mZWVkYmFjayBpb24taXRlbS5pdGVtLWhhcy1wbGFjZWhvbGRlciBpb24tdGV4dGFyZWEsXG4uZm9ybSBpb24tbGlzdCBpb24tY2FyZCAuYWRkX2ZlZWRiYWNrIGlvbi1pdGVtLml0ZW0taGFzLXBsYWNlaG9sZGVyIGlvbi1pbnB1dCB7XG4gIC0tcGxhY2Vob2xkZXItb3BhY2l0eTogMTtcbiAgZm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMDtcbn0iXX0= */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UiElementsService } from '../services/common/ui-elements.service';\nimport { ApiService } from '../services/network/api.service';\nimport { Subscription } from 'rxjs';\nimport { RateRequest } from 'src/models/rate-request.models';\nimport { Helper } from 'src/models/helper.models';\nimport { Order } from 'src/models/order.models';\nimport { Product } from 'src/models/product.models';\n\n@Component({\n  selector: 'app-item-review',\n  templateUrl: './item-review.page.html',\n  styleUrls: ['./item-review.page.scss'],\n})\nexport class ItemReviewPage implements OnInit, OnDestroy {\n  private subscriptions = new Array<Subscription>();\n  order: Order;\n  rateRequest = new Array<RateRequest>();\n  products = new Array<Product>();\n\n  constructor(private router: Router, private navCtrl: NavController, private translate: TranslateService,\n    private uiElementService: UiElementsService, private apiService: ApiService) {\n    console.log(\"getCurrentNavigation\", this.router.getCurrentNavigation().extras.state);\n    if (this.router.getCurrentNavigation().extras.state) {\n      this.order = this.router.getCurrentNavigation().extras.state.order;\n      this.order.products.map((element) => { if (!element.vendor_product.product.reviewed) { this.rateRequest.push({rating : 3,review : ''}); this.products.push(element.vendor_product.product) } })\n      // this.rateRequest.rating = 3;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnDestroy() {\n    for (let sub of this.subscriptions) sub.unsubscribe();\n    this.uiElementService.dismissLoading();\n  }\n\n  setRating(rating, index) {\n    this.rateRequest[index].rating = rating;\n  }\n\n  submitRating(index) {\n    if (!this.rateRequest[index].review || !this.rateRequest[index].review.length) {\n      this.translate.get(\"err_review\").subscribe(value => this.uiElementService.presentToast(value));\n    } else {\n      this.translate.get(\"just_moment\").subscribe(value => {\n        this.uiElementService.presentToast(value);\n        this.subscriptions.push(this.apiService.postReviewProduct(this.products[index].id, this.rateRequest[index]).subscribe(res => {\n          console.log(\"postReviewProduct\", res);\n          Helper.addReviewedProductId(String(this.order.id + String(this.products[index].id)));\n          this.uiElementService.dismissLoading();\n          this.translate.get(\"review_done\").subscribe(value => this.uiElementService.presentToast(value));\n          // this.navCtrl.navigateRoot(['./home']);\n          this.navCtrl.pop();\n        }, err => {\n          this.uiElementService.dismissLoading();\n          console.log(\"postReviewProduct\", err);\n          let found = false;\n          if (err && err.error && err.error.errors) {\n            if (err.error.errors.review) {\n              found = true;\n              this.translate.get(\"err_review_length\").subscribe(value => this.uiElementService.presentErrorAlert(value));\n            }\n          }\n          if (!found) this.translate.get(\"something_went_wrong\").subscribe(value => this.uiElementService.presentErrorAlert(value));\n          this.navCtrl.pop();\n\n        }));\n      });\n    }\n  }\n\n}"]}