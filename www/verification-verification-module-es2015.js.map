{"version":3,"sources":["./src/app/verification/verification.page.html","./src/app/verification/verification-routing.module.ts","./src/app/verification/verification.module.ts","./src/app/verification/verification.page.scss","./src/app/verification/verification.page.ts"],"names":[],"mappings":"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","file":"verification-verification-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n\\t<ion-toolbar>\\r\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\r\\n\\t\\t\\t<ion-back-button text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n\\t\\t</ion-buttons>\\r\\n\\t\\t<ion-title>{{'phone_verification' | translate}}</ion-title>\\r\\n\\t</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\t<div id=\\\"recaptcha-container\\\"></div>\\r\\n\\t<div class=\\\"form\\\">\\r\\n\\t\\t<p class=\\\"ion-text-center\\\">{{'verification_text' | translate}} {{phoneNumberFull}} </p>\\r\\n\\r\\n\\t\\t<ion-list lines=\\\"none\\\">\\r\\n\\t\\t\\t<ion-item lines=\\\"none\\\">\\r\\n\\t\\t\\t\\t<ion-input class=\\\"ion-text-center\\\" type=\\\"number\\\" [(ngModel)]=\\\"otp\\\"\\r\\n\\t\\t\\t\\t\\tplaceholder=\\\"{{'enter_verification_code' | translate}}\\\">\\r\\n\\t\\t\\t\\t</ion-input>\\r\\n\\t\\t\\t</ion-item>\\r\\n\\r\\n\\t\\t\\t<ion-button size=\\\"large\\\" shape=\\\"block\\\" class=\\\"btn\\\" (click)=\\\"verify()\\\">\\r\\n\\t\\t\\t\\t{{'verify' | translate}}\\r\\n\\t\\t\\t</ion-button>\\r\\n\\t\\t</ion-list>\\r\\n\\t\\t<!-- <h4 class=\\\"d-flex\\\">0:22 min left <span class=\\\"end\\\">{{'resend' | translate}}</span></h4> -->\\r\\n\\t</div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VerificationPage } from './verification.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VerificationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VerificationPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VerificationPageRoutingModule } from './verification-routing.module';\r\n\r\nimport { VerificationPage } from './verification.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    VerificationPageRoutingModule\r\n  ],\r\n  declarations: [VerificationPage]\r\n})\r\nexport class VerificationPageModule { }\r\n","export default \"ion-header ion-toolbar ion-title {\\n  position: absolute !important;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  text-align: center;\\n  padding: 0 15px !important;\\n}\\n\\n.form {\\n  padding-top: 50px;\\n}\\n\\n.form p {\\n  color: var(--text-light) !important;\\n  margin: 0;\\n  font-size: 1rem !important;\\n  letter-spacing: 0;\\n  font-weight: 500;\\n  line-height: 19px;\\n  margin-bottom: 50px;\\n  opacity: 0.8;\\n}\\n\\n.form .button.btn.button-block {\\n  margin-top: 25px;\\n}\\n\\n.form ion-list {\\n  margin-bottom: 28px;\\n}\\n\\n.form h4 {\\n  margin: 0;\\n  font-size: 0.95rem;\\n  font-weight: 500;\\n}\\n\\n.form h4 span {\\n  text-transform: uppercase;\\n  font-size: 0.95rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmVyaWZpY2F0aW9uL0Y6XFxmaXZlclxcQmVybmFyZFxcRG9jdG9yIFdvcmxkXFxEb2N0b1dvcmxkX0FwcENvZGUgKFZpZGVvIENhbGwpLTIwMjEwODA5VDEwMTQwN1otMDAxXFxEb2N0b1dvcmxkX0FwcENvZGUgKFZpZGVvIENhbGwpXFxkb2N0b3dvcmxkX2N1c3RvbWVyXFxkb2N0b3dvcmxkX2N1c3RvbWVyL3NyY1xcYXBwXFx2ZXJpZmljYXRpb25cXHZlcmlmaWNhdGlvbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3ZlcmlmaWNhdGlvbi92ZXJpZmljYXRpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsNkJBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLDBCQUFBO0FDQ0Q7O0FERUE7RUFDQyxpQkFBQTtBQ0NEOztBRENDO0VBQ0MsbUNBQUE7RUFDQSxTQUFBO0VBQ0EsMEJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQztFQUNDLGdCQUFBO0FDQUY7O0FER0M7RUFDQyxtQkFBQTtBQ0RGOztBRElDO0VBQ0MsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNGRjs7QURHUTtFQUNJLHlCQUFBO0VBQ1Isa0JBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3ZlcmlmaWNhdGlvbi92ZXJpZmljYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUge1xyXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xyXG5cdGxlZnQ6IDA7XHJcblx0dG9wOiAwO1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRwYWRkaW5nOiAwIDE1cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmZvcm0ge1xyXG5cdHBhZGRpbmctdG9wOiA1MHB4O1xyXG5cclxuXHRwIHtcclxuXHRcdGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KSAhaW1wb3J0YW50O1xyXG5cdFx0bWFyZ2luOiAwO1xyXG5cdFx0Zm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnQ7XHJcblx0XHRsZXR0ZXItc3BhY2luZzogMDtcclxuXHRcdGZvbnQtd2VpZ2h0OiA1MDA7XHJcblx0XHRsaW5lLWhlaWdodDogMTlweDtcclxuXHRcdG1hcmdpbi1ib3R0b206IDUwcHg7XHJcblx0XHRvcGFjaXR5OiAuODtcclxuXHR9XHJcblxyXG5cdC5idXR0b24uYnRuLmJ1dHRvbi1ibG9jayB7XHJcblx0XHRtYXJnaW4tdG9wOiAyNXB4O1xyXG5cdH1cclxuXHJcblx0aW9uLWxpc3Qge1xyXG5cdFx0bWFyZ2luLWJvdHRvbTogMjhweDtcclxuXHR9XHJcblxyXG5cdGg0IHtcclxuXHRcdG1hcmdpbjogMDtcclxuXHRcdGZvbnQtc2l6ZTogLjk1cmVtO1xyXG5cdFx0Zm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICBzcGFue1xyXG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgZm9udC1zaXplOiAuOTVyZW07IFxyXG4gICAgICAgIH1cclxuXHR9XHJcbn1cclxuIiwiaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUge1xuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiAwIDE1cHggIWltcG9ydGFudDtcbn1cblxuLmZvcm0ge1xuICBwYWRkaW5nLXRvcDogNTBweDtcbn1cbi5mb3JtIHAge1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCkgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDFyZW0gIWltcG9ydGFudDtcbiAgbGV0dGVyLXNwYWNpbmc6IDA7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGxpbmUtaGVpZ2h0OiAxOXB4O1xuICBtYXJnaW4tYm90dG9tOiA1MHB4O1xuICBvcGFjaXR5OiAwLjg7XG59XG4uZm9ybSAuYnV0dG9uLmJ0bi5idXR0b24tYmxvY2sge1xuICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuLmZvcm0gaW9uLWxpc3Qge1xuICBtYXJnaW4tYm90dG9tOiAyOHB4O1xufVxuLmZvcm0gaDQge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbi5mb3JtIGg0IHNwYW4ge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBmb250LXNpemU6IDAuOTVyZW07XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Platform } from '@ionic/angular'\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UiElementsService } from '../services/common/ui-elements.service';\r\nimport { MyEventsService } from '../services/events/my-events.service';\r\nimport { ApiService } from '../services/network/api.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Helper } from 'src/models/helper.models';\r\nimport * as firebase from 'firebase/app';\r\nimport { Constants } from 'src/models/constants.models';\r\n\r\n@Component({\r\n  selector: 'app-verification',\r\n  templateUrl: './verification.page.html',\r\n  styleUrls: ['./verification.page.scss']\r\n})\r\nexport class VerificationPage implements OnInit {\r\n  private recaptchaVerifier: firebase.auth.RecaptchaVerifier;\r\n  private captchanotvarified: boolean = true;\r\n  private result: any;\r\n  private buttonDisabled: any = true;\r\n  private component: any;\r\n  private captchaVerified: boolean = false;\r\n  private verfificationId: any;\r\n  private timer: any;\r\n  private minutes: number = 0;\r\n  private seconds: number = 0;\r\n  private totalSeconds: number = 0;\r\n  private intervalCalled: boolean = false;\r\n  private dialCode: string;\r\n  private resendCode: boolean = false;\r\n  private otpNotSent: boolean = true;\r\n  private credential: any;\r\n\r\n  phoneNumberFull: string;\r\n  otp = \"\";\r\n\r\n  constructor(private route: ActivatedRoute, private uiElementService: UiElementsService, private myEvent: MyEventsService,\r\n    private platform: Platform, private apiService: ApiService, private translate: TranslateService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe(params => this.phoneNumberFull = params[\"phoneNumberFull\"]);\r\n    \r\n    if (!(this.platform.is('cordova'))) {\r\n      this.makeCaptcha();\r\n    }\r\n    this.sendOTP();\r\n  }\r\n\r\n  loginUser(token) {\r\n    this.translate.get('just_moment').subscribe(value => {\r\n      this.uiElementService.presentLoading(value);\r\n\r\n      this.apiService.loginUser({ token: token, role: Constants.ROLE_USER }).subscribe(res => {\r\n        this.uiElementService.dismissLoading();\r\n        Helper.setLoggedInUserResponse(res);\r\n        this.apiService.setupHeaders(res.token);\r\n        this.myEvent.setUserMeData(res.user);\r\n        window.localStorage.removeItem(Constants.KEY_ADDRESS);\r\n        this.myEvent.setAddressData(null);\r\n      }, err => {\r\n        console.log(err);\r\n        this.uiElementService.dismissLoading();\r\n        this.uiElementService.presentErrorAlert((err && err.error && err.error.message && String(err.error.message).toLowerCase().includes(\"role\")) ? \"User exists with different role\" : \"Something went wrong\");\r\n      });\r\n    });\r\n  }\r\n\r\n  getUserToken(user) {\r\n    user.getIdToken(false).then(res => {\r\n      console.log('user_token_success', res);\r\n      this.loginUser(res);\r\n    }).catch(err => {\r\n      console.log('user_token_failure', err);\r\n    });\r\n  }\r\n\r\n  sendOTP() {\r\n    this.resendCode = false;\r\n    this.otpNotSent = true;\r\n    if (this.platform.is('cordova')) {\r\n      this.sendOtpPhone(this.phoneNumberFull);\r\n    } else {\r\n      this.sendOtpBrowser(this.phoneNumberFull);\r\n    }\r\n    if (this.intervalCalled) {\r\n      clearInterval(this.timer);\r\n    }\r\n  }\r\n\r\n  createTimer() {\r\n    this.intervalCalled = true;\r\n    this.totalSeconds--;\r\n    if (this.totalSeconds == 0) {\r\n      this.otpNotSent = true;\r\n      this.resendCode = true;\r\n      clearInterval(this.timer);\r\n    } else {\r\n      this.seconds = (this.totalSeconds % 60);\r\n      if (this.totalSeconds >= this.seconds) {\r\n        this.minutes = (this.totalSeconds - this.seconds) / 60\r\n      } else {\r\n        this.minutes = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  createInterval() {\r\n    this.totalSeconds = 120;\r\n    this.createTimer();\r\n    this.timer = setInterval(() => {\r\n      this.createTimer();\r\n    }, 1000);\r\n  }\r\n\r\n  sendOtpPhone(phone) {\r\n    const component = this;\r\n    this.translate.get('sending_otp').subscribe(value => {\r\n      this.uiElementService.presentLoading(value);\r\n\r\n      (<any>window).FirebasePlugin.verifyPhoneNumber(function (credential) {\r\n        component.uiElementService.dismissLoading();\r\n        console.log(\"verifyPhoneNumber\", JSON.stringify(credential));\r\n        //component.verfificationId = credential.instantVerification ? credential.id : credential.verificationId;\r\n        component.credential = credential;\r\n        if (credential.instantVerification) {\r\n          component.translate.get(\"verifying_otp_auto\").subscribe(value => component.uiElementService.presentToast(value));\r\n          component.verifyOtpPhone();\r\n        } else {\r\n          component.translate.get(\"sending_otp_success\").subscribe(value => component.uiElementService.presentToast(value));\r\n          component.otpNotSent = false;\r\n          component.createInterval();\r\n        }\r\n        // component.translate.get(\"otp_sent\").subscribe(value => {\r\n        //   component.global.showToast(value);\r\n        // });\r\n        // component.otpNotSent = false;\r\n        // component.createInterval(); \r\n      }, function (error) {\r\n        console.log(\"otp_send_fail\", error);\r\n        component.otpNotSent = true;\r\n        component.resendCode = true;\r\n        component.uiElementService.dismissLoading();\r\n        component.translate.get('sending_otp_fail').subscribe(text => component.uiElementService.presentToast(text));\r\n      }, phone, 60);\r\n    });\r\n  }\r\n\r\n  sendOtpBrowser(phone) {\r\n    const component = this;\r\n    this.uiElementService.dismissLoading();\r\n    this.uiElementService.presentLoading(\"Sending otp\");\r\n    firebase.auth().signInWithPhoneNumber(phone, this.recaptchaVerifier).then((confirmationResult) => {\r\n      console.log(\"otp_send_success\", confirmationResult);\r\n      component.otpNotSent = false;\r\n      component.result = confirmationResult;\r\n      component.uiElementService.dismissLoading();\r\n      component.uiElementService.presentToast(\"OTP Sent\");\r\n      if (component.intervalCalled) {\r\n        clearInterval(component.timer);\r\n      }\r\n      component.createInterval();\r\n    }).catch(function (error) {\r\n      console.log(\"otp_send_fail\", error);\r\n      component.resendCode = true;\r\n      component.uiElementService.dismissLoading();\r\n      if (error.message) {\r\n        component.uiElementService.presentToast(error.message);\r\n      } else {\r\n        component.uiElementService.presentToast(\"OTP Sending failed\");\r\n      }\r\n    });\r\n  }\r\n\r\n  verify() {\r\n    this.otpNotSent = true;\r\n    if (this.platform.is('cordova')) {\r\n      this.credential.code = String(this.otp);\r\n      this.verifyOtpPhone();\r\n    } else {\r\n      this.verifyOtpBrowser();\r\n    }\r\n  }\r\n\r\n  retryOld(credential) {\r\n    //const credential = firebase.auth.PhoneAuthProvider.credential(this.verfificationId, this.otp);\r\n    this.translate.get('verifying_otp').subscribe(value => {\r\n      this.uiElementService.presentLoading(value);\r\n\r\n      firebase.auth().signInAndRetrieveDataWithCredential(credential).then((info) => {\r\n        console.log('otp_verify_success', info);\r\n        this.uiElementService.dismissLoading();\r\n        this.translate.get('verifying_otp_success').subscribe(value => this.uiElementService.presentToast(value));\r\n        this.getUserToken(info.user);\r\n      }, (error) => {\r\n        console.log('otp_verify_fail', error);\r\n        this.translate.get('verifying_otp_fail').subscribe(value => this.uiElementService.presentToast(value));\r\n        this.uiElementService.dismissLoading();\r\n      })\r\n    });\r\n  }\r\n\r\n  verifyOtpPhone() {\r\n    const component = this;\r\n    this.translate.get('verifying_otp').subscribe(text => {\r\n      this.uiElementService.presentLoading(text);\r\n      console.log(\"credential\", component.credential);\r\n      (<any>window).FirebasePlugin.signInWithCredential(component.credential, function () {\r\n        console.log(\"signInWithCredential\");\r\n        (<any>window).FirebasePlugin.getCurrentUser(function (user) {\r\n          component.uiElementService.dismissLoading();\r\n          console.log(\"getCurrentUser\", JSON.stringify(user));\r\n          component.translate.get('otp_verified').subscribe(text => component.uiElementService.presentToast(text));\r\n          component.loginUser(user.idToken);\r\n        }, function (error) {\r\n          component.uiElementService.dismissLoading();\r\n          console.log(\"getCurrentUser\", JSON.stringify(error));\r\n          component.translate.get('verify_otp_err').subscribe(text => component.uiElementService.presentToast(text));\r\n        });\r\n      }, function (error) {\r\n        console.error(\"signInWithCredential\", error);\r\n        component.uiElementService.dismissLoading();\r\n        component.retryOld(firebase.auth.PhoneAuthProvider.credential(component.credential.id, component.otp));\r\n        component.translate.get('verify_otp_err').subscribe(text => component.uiElementService.presentToast(text));\r\n      });\r\n    });\r\n  }\r\n\r\n  verifyOtpBrowser() {\r\n    const component = this;\r\n    this.uiElementService.presentLoading(\"Verifying otp\");\r\n    this.result.confirm(String(this.otp)).then(function (response) {\r\n      console.log('otp_verify_success', response);\r\n      component.uiElementService.dismissLoading();\r\n      component.uiElementService.presentToast(\"OTP Verified\");\r\n      component.getUserToken(response.user);\r\n    }).catch(function (error) {\r\n      console.log('otp_verify_fail', error);\r\n      if (error.message) {\r\n        component.uiElementService.presentToast(error.message);\r\n      } else {\r\n        component.uiElementService.presentToast(\"OTP Verification failed\");\r\n      }\r\n      component.uiElementService.dismissLoading();\r\n    });\r\n  }\r\n\r\n  makeCaptcha() {\r\n    const component = this;\r\n    this.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\r\n      // 'size': 'normal',\r\n      'size': 'invisible',\r\n      'callback': function (response) {\r\n        component.captchanotvarified = true;\r\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\r\n      }\r\n    });\r\n    this.recaptchaVerifier.render();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}